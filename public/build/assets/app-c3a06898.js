function Hr(r,i){return function(){return r.apply(i,arguments)}}const{toString:Br}=Object.prototype,{getPrototypeOf:Kn}=Object,Yn=(r=>i=>{const s=Br.call(i);return r[s]||(r[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Le=r=>(r=r.toLowerCase(),i=>Yn(i)===r),rn=r=>i=>typeof i===r,{isArray:it}=Array,kt=rn("undefined");function ps(r){return r!==null&&!kt(r)&&r.constructor!==null&&!kt(r.constructor)&&Ue(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const qr=Le("ArrayBuffer");function ds(r){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(r):i=r&&r.buffer&&qr(r.buffer),i}const vs=rn("string"),Ue=rn("function"),zr=rn("number"),Qn=r=>r!==null&&typeof r=="object",ms=r=>r===!0||r===!1,Xt=r=>{if(Yn(r)!=="object")return!1;const i=Kn(r);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},ys=Le("Date"),gs=Le("File"),_s=Le("Blob"),bs=Le("FileList"),ws=r=>Qn(r)&&Ue(r.pipe),Ss=r=>{const i="[object FormData]";return r&&(typeof FormData=="function"&&r instanceof FormData||Br.call(r)===i||Ue(r.toString)&&r.toString()===i)},Ts=Le("URLSearchParams"),Es=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function At(r,i,{allOwnKeys:s=!1}={}){if(r===null||typeof r>"u")return;let a,u;if(typeof r!="object"&&(r=[r]),it(r))for(a=0,u=r.length;a<u;a++)i.call(null,r[a],a,r);else{const h=s?Object.getOwnPropertyNames(r):Object.keys(r),f=h.length;let v;for(a=0;a<f;a++)v=h[a],i.call(null,r[v],v,r)}}function Wr(r,i){i=i.toLowerCase();const s=Object.keys(r);let a=s.length,u;for(;a-- >0;)if(u=s[a],i===u.toLowerCase())return u;return null}const $r=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Gr=r=>!kt(r)&&r!==$r;function Fn(){const{caseless:r}=Gr(this)&&this||{},i={},s=(a,u)=>{const h=r&&Wr(i,u)||u;Xt(i[h])&&Xt(a)?i[h]=Fn(i[h],a):Xt(a)?i[h]=Fn({},a):it(a)?i[h]=a.slice():i[h]=a};for(let a=0,u=arguments.length;a<u;a++)arguments[a]&&At(arguments[a],s);return i}const Cs=(r,i,s,{allOwnKeys:a}={})=>(At(i,(u,h)=>{s&&Ue(u)?r[h]=Hr(u,s):r[h]=u},{allOwnKeys:a}),r),ks=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),As=(r,i,s,a)=>{r.prototype=Object.create(i.prototype,a),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:i.prototype}),s&&Object.assign(r.prototype,s)},Os=(r,i,s,a)=>{let u,h,f;const v={};if(i=i||{},r==null)return i;do{for(u=Object.getOwnPropertyNames(r),h=u.length;h-- >0;)f=u[h],(!a||a(f,r,i))&&!v[f]&&(i[f]=r[f],v[f]=!0);r=s!==!1&&Kn(r)}while(r&&(!s||s(r,i))&&r!==Object.prototype);return i},Rs=(r,i,s)=>{r=String(r),(s===void 0||s>r.length)&&(s=r.length),s-=i.length;const a=r.indexOf(i,s);return a!==-1&&a===s},Ps=r=>{if(!r)return null;if(it(r))return r;let i=r.length;if(!zr(i))return null;const s=new Array(i);for(;i-- >0;)s[i]=r[i];return s},xs=(r=>i=>r&&i instanceof r)(typeof Uint8Array<"u"&&Kn(Uint8Array)),Ls=(r,i)=>{const a=(r&&r[Symbol.iterator]).call(r);let u;for(;(u=a.next())&&!u.done;){const h=u.value;i.call(r,h[0],h[1])}},Ns=(r,i)=>{let s;const a=[];for(;(s=r.exec(i))!==null;)a.push(s);return a},Is=Le("HTMLFormElement"),Ds=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,u){return a.toUpperCase()+u}),Sr=(({hasOwnProperty:r})=>(i,s)=>r.call(i,s))(Object.prototype),Ms=Le("RegExp"),Jr=(r,i)=>{const s=Object.getOwnPropertyDescriptors(r),a={};At(s,(u,h)=>{i(u,h,r)!==!1&&(a[h]=u)}),Object.defineProperties(r,a)},js=r=>{Jr(r,(i,s)=>{if(Ue(r)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=r[s];if(Ue(a)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Fs=(r,i)=>{const s={},a=u=>{u.forEach(h=>{s[h]=!0})};return it(r)?a(r):a(String(r).split(i)),s},Us=()=>{},Hs=(r,i)=>(r=+r,Number.isFinite(r)?r:i),On="abcdefghijklmnopqrstuvwxyz",Tr="0123456789",Xr={DIGIT:Tr,ALPHA:On,ALPHA_DIGIT:On+On.toUpperCase()+Tr},Bs=(r=16,i=Xr.ALPHA_DIGIT)=>{let s="";const{length:a}=i;for(;r--;)s+=i[Math.random()*a|0];return s};function qs(r){return!!(r&&Ue(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const zs=r=>{const i=new Array(10),s=(a,u)=>{if(Qn(a)){if(i.indexOf(a)>=0)return;if(!("toJSON"in a)){i[u]=a;const h=it(a)?[]:{};return At(a,(f,v)=>{const y=s(f,u+1);!kt(y)&&(h[v]=y)}),i[u]=void 0,h}}return a};return s(r,0)},m={isArray:it,isArrayBuffer:qr,isBuffer:ps,isFormData:Ss,isArrayBufferView:ds,isString:vs,isNumber:zr,isBoolean:ms,isObject:Qn,isPlainObject:Xt,isUndefined:kt,isDate:ys,isFile:gs,isBlob:_s,isRegExp:Ms,isFunction:Ue,isStream:ws,isURLSearchParams:Ts,isTypedArray:xs,isFileList:bs,forEach:At,merge:Fn,extend:Cs,trim:Es,stripBOM:ks,inherits:As,toFlatObject:Os,kindOf:Yn,kindOfTest:Le,endsWith:Rs,toArray:Ps,forEachEntry:Ls,matchAll:Ns,isHTMLForm:Is,hasOwnProperty:Sr,hasOwnProp:Sr,reduceDescriptors:Jr,freezeMethods:js,toObjectSet:Fs,toCamelCase:Ds,noop:Us,toFiniteNumber:Hs,findKey:Wr,global:$r,isContextDefined:Gr,ALPHABET:Xr,generateString:Bs,isSpecCompliantForm:qs,toJSONObject:zs};function F(r,i,s,a,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",i&&(this.code=i),s&&(this.config=s),a&&(this.request=a),u&&(this.response=u)}m.inherits(F,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:m.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Vr=F.prototype,Kr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Kr[r]={value:r}});Object.defineProperties(F,Kr);Object.defineProperty(Vr,"isAxiosError",{value:!0});F.from=(r,i,s,a,u,h)=>{const f=Object.create(Vr);return m.toFlatObject(r,f,function(y){return y!==Error.prototype},v=>v!=="isAxiosError"),F.call(f,r.message,i,s,a,u),f.cause=r,f.name=r.name,h&&Object.assign(f,h),f};const Ws=null;function Un(r){return m.isPlainObject(r)||m.isArray(r)}function Yr(r){return m.endsWith(r,"[]")?r.slice(0,-2):r}function Er(r,i,s){return r?r.concat(i).map(function(u,h){return u=Yr(u),!s&&h?"["+u+"]":u}).join(s?".":""):i}function $s(r){return m.isArray(r)&&!r.some(Un)}const Gs=m.toFlatObject(m,{},null,function(i){return/^is[A-Z]/.test(i)});function on(r,i,s){if(!m.isObject(r))throw new TypeError("target must be an object");i=i||new FormData,s=m.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,_){return!m.isUndefined(_[T])});const a=s.metaTokens,u=s.visitor||C,h=s.dots,f=s.indexes,y=(s.Blob||typeof Blob<"u"&&Blob)&&m.isSpecCompliantForm(i);if(!m.isFunction(u))throw new TypeError("visitor must be a function");function g(E){if(E===null)return"";if(m.isDate(E))return E.toISOString();if(!y&&m.isBlob(E))throw new F("Blob is not supported. Use a Buffer instead.");return m.isArrayBuffer(E)||m.isTypedArray(E)?y&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function C(E,T,_){let S=E;if(E&&!_&&typeof E=="object"){if(m.endsWith(T,"{}"))T=a?T:T.slice(0,-2),E=JSON.stringify(E);else if(m.isArray(E)&&$s(E)||(m.isFileList(E)||m.endsWith(T,"[]"))&&(S=m.toArray(E)))return T=Yr(T),S.forEach(function(j,U){!(m.isUndefined(j)||j===null)&&i.append(f===!0?Er([T],U,h):f===null?T:T+"[]",g(j))}),!1}return Un(E)?!0:(i.append(Er(_,T,h),g(E)),!1)}const A=[],P=Object.assign(Gs,{defaultVisitor:C,convertValue:g,isVisitable:Un});function R(E,T){if(!m.isUndefined(E)){if(A.indexOf(E)!==-1)throw Error("Circular reference detected in "+T.join("."));A.push(E),m.forEach(E,function(S,N){(!(m.isUndefined(S)||S===null)&&u.call(i,S,m.isString(N)?N.trim():N,T,P))===!0&&R(S,T?T.concat(N):[N])}),A.pop()}}if(!m.isObject(r))throw new TypeError("data must be an object");return R(r),i}function Cr(r){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(a){return i[a]})}function Zn(r,i){this._pairs=[],r&&on(r,this,i)}const Qr=Zn.prototype;Qr.append=function(i,s){this._pairs.push([i,s])};Qr.toString=function(i){const s=i?function(a){return i.call(this,a,Cr)}:Cr;return this._pairs.map(function(u){return s(u[0])+"="+s(u[1])},"").join("&")};function Js(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Zr(r,i,s){if(!i)return r;const a=s&&s.encode||Js,u=s&&s.serialize;let h;if(u?h=u(i,s):h=m.isURLSearchParams(i)?i.toString():new Zn(i,s).toString(a),h){const f=r.indexOf("#");f!==-1&&(r=r.slice(0,f)),r+=(r.indexOf("?")===-1?"?":"&")+h}return r}class Xs{constructor(){this.handlers=[]}use(i,s,a){return this.handlers.push({fulfilled:i,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){m.forEach(this.handlers,function(a){a!==null&&i(a)})}}const kr=Xs,ei={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Vs=typeof URLSearchParams<"u"?URLSearchParams:Zn,Ks=typeof FormData<"u"?FormData:null,Ys=typeof Blob<"u"?Blob:null,Qs=(()=>{let r;return typeof navigator<"u"&&((r=navigator.product)==="ReactNative"||r==="NativeScript"||r==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Zs=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ke={isBrowser:!0,classes:{URLSearchParams:Vs,FormData:Ks,Blob:Ys},isStandardBrowserEnv:Qs,isStandardBrowserWebWorkerEnv:Zs,protocols:["http","https","file","blob","url","data"]};function ea(r,i){return on(r,new ke.classes.URLSearchParams,Object.assign({visitor:function(s,a,u,h){return ke.isNode&&m.isBuffer(s)?(this.append(a,s.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},i))}function ta(r){return m.matchAll(/\w+|\[(\w*)]/g,r).map(i=>i[0]==="[]"?"":i[1]||i[0])}function na(r){const i={},s=Object.keys(r);let a;const u=s.length;let h;for(a=0;a<u;a++)h=s[a],i[h]=r[h];return i}function ti(r){function i(s,a,u,h){let f=s[h++];const v=Number.isFinite(+f),y=h>=s.length;return f=!f&&m.isArray(u)?u.length:f,y?(m.hasOwnProp(u,f)?u[f]=[u[f],a]:u[f]=a,!v):((!u[f]||!m.isObject(u[f]))&&(u[f]=[]),i(s,a,u[f],h)&&m.isArray(u[f])&&(u[f]=na(u[f])),!v)}if(m.isFormData(r)&&m.isFunction(r.entries)){const s={};return m.forEachEntry(r,(a,u)=>{i(ta(a),u,s,0)}),s}return null}const ra={"Content-Type":void 0};function ia(r,i,s){if(m.isString(r))try{return(i||JSON.parse)(r),m.trim(r)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(r)}const sn={transitional:ei,adapter:["xhr","http"],transformRequest:[function(i,s){const a=s.getContentType()||"",u=a.indexOf("application/json")>-1,h=m.isObject(i);if(h&&m.isHTMLForm(i)&&(i=new FormData(i)),m.isFormData(i))return u&&u?JSON.stringify(ti(i)):i;if(m.isArrayBuffer(i)||m.isBuffer(i)||m.isStream(i)||m.isFile(i)||m.isBlob(i))return i;if(m.isArrayBufferView(i))return i.buffer;if(m.isURLSearchParams(i))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let v;if(h){if(a.indexOf("application/x-www-form-urlencoded")>-1)return ea(i,this.formSerializer).toString();if((v=m.isFileList(i))||a.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return on(v?{"files[]":i}:i,y&&new y,this.formSerializer)}}return h||u?(s.setContentType("application/json",!1),ia(i)):i}],transformResponse:[function(i){const s=this.transitional||sn.transitional,a=s&&s.forcedJSONParsing,u=this.responseType==="json";if(i&&m.isString(i)&&(a&&!this.responseType||u)){const f=!(s&&s.silentJSONParsing)&&u;try{return JSON.parse(i)}catch(v){if(f)throw v.name==="SyntaxError"?F.from(v,F.ERR_BAD_RESPONSE,this,null,this.response):v}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ke.classes.FormData,Blob:ke.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};m.forEach(["delete","get","head"],function(i){sn.headers[i]={}});m.forEach(["post","put","patch"],function(i){sn.headers[i]=m.merge(ra)});const er=sn,oa=m.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sa=r=>{const i={};let s,a,u;return r&&r.split(`
`).forEach(function(f){u=f.indexOf(":"),s=f.substring(0,u).trim().toLowerCase(),a=f.substring(u+1).trim(),!(!s||i[s]&&oa[s])&&(s==="set-cookie"?i[s]?i[s].push(a):i[s]=[a]:i[s]=i[s]?i[s]+", "+a:a)}),i},Ar=Symbol("internals");function Et(r){return r&&String(r).trim().toLowerCase()}function Vt(r){return r===!1||r==null?r:m.isArray(r)?r.map(Vt):String(r)}function aa(r){const i=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(r);)i[a[1]]=a[2];return i}function ca(r){return/^[-_a-zA-Z]+$/.test(r.trim())}function Rn(r,i,s,a,u){if(m.isFunction(a))return a.call(this,i,s);if(u&&(i=s),!!m.isString(i)){if(m.isString(a))return i.indexOf(a)!==-1;if(m.isRegExp(a))return a.test(i)}}function ua(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,s,a)=>s.toUpperCase()+a)}function la(r,i){const s=m.toCamelCase(" "+i);["get","set","has"].forEach(a=>{Object.defineProperty(r,a+s,{value:function(u,h,f){return this[a].call(this,i,u,h,f)},configurable:!0})})}class an{constructor(i){i&&this.set(i)}set(i,s,a){const u=this;function h(v,y,g){const C=Et(y);if(!C)throw new Error("header name must be a non-empty string");const A=m.findKey(u,C);(!A||u[A]===void 0||g===!0||g===void 0&&u[A]!==!1)&&(u[A||y]=Vt(v))}const f=(v,y)=>m.forEach(v,(g,C)=>h(g,C,y));return m.isPlainObject(i)||i instanceof this.constructor?f(i,s):m.isString(i)&&(i=i.trim())&&!ca(i)?f(sa(i),s):i!=null&&h(s,i,a),this}get(i,s){if(i=Et(i),i){const a=m.findKey(this,i);if(a){const u=this[a];if(!s)return u;if(s===!0)return aa(u);if(m.isFunction(s))return s.call(this,u,a);if(m.isRegExp(s))return s.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,s){if(i=Et(i),i){const a=m.findKey(this,i);return!!(a&&this[a]!==void 0&&(!s||Rn(this,this[a],a,s)))}return!1}delete(i,s){const a=this;let u=!1;function h(f){if(f=Et(f),f){const v=m.findKey(a,f);v&&(!s||Rn(a,a[v],v,s))&&(delete a[v],u=!0)}}return m.isArray(i)?i.forEach(h):h(i),u}clear(i){const s=Object.keys(this);let a=s.length,u=!1;for(;a--;){const h=s[a];(!i||Rn(this,this[h],h,i,!0))&&(delete this[h],u=!0)}return u}normalize(i){const s=this,a={};return m.forEach(this,(u,h)=>{const f=m.findKey(a,h);if(f){s[f]=Vt(u),delete s[h];return}const v=i?ua(h):String(h).trim();v!==h&&delete s[h],s[v]=Vt(u),a[v]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const s=Object.create(null);return m.forEach(this,(a,u)=>{a!=null&&a!==!1&&(s[u]=i&&m.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,s])=>i+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...s){const a=new this(i);return s.forEach(u=>a.set(u)),a}static accessor(i){const a=(this[Ar]=this[Ar]={accessors:{}}).accessors,u=this.prototype;function h(f){const v=Et(f);a[v]||(la(u,f),a[v]=!0)}return m.isArray(i)?i.forEach(h):h(i),this}}an.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);m.freezeMethods(an.prototype);m.freezeMethods(an);const xe=an;function Pn(r,i){const s=this||er,a=i||s,u=xe.from(a.headers);let h=a.data;return m.forEach(r,function(v){h=v.call(s,h,u.normalize(),i?i.status:void 0)}),u.normalize(),h}function ni(r){return!!(r&&r.__CANCEL__)}function Ot(r,i,s){F.call(this,r??"canceled",F.ERR_CANCELED,i,s),this.name="CanceledError"}m.inherits(Ot,F,{__CANCEL__:!0});function ha(r,i,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?r(s):i(new F("Request failed with status code "+s.status,[F.ERR_BAD_REQUEST,F.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}const fa=ke.isStandardBrowserEnv?function(){return{write:function(s,a,u,h,f,v){const y=[];y.push(s+"="+encodeURIComponent(a)),m.isNumber(u)&&y.push("expires="+new Date(u).toGMTString()),m.isString(h)&&y.push("path="+h),m.isString(f)&&y.push("domain="+f),v===!0&&y.push("secure"),document.cookie=y.join("; ")},read:function(s){const a=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove:function(s){this.write(s,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function pa(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function da(r,i){return i?r.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):r}function ri(r,i){return r&&!pa(i)?da(r,i):i}const va=ke.isStandardBrowserEnv?function(){const i=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let a;function u(h){let f=h;return i&&(s.setAttribute("href",f),f=s.href),s.setAttribute("href",f),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return a=u(window.location.href),function(f){const v=m.isString(f)?u(f):f;return v.protocol===a.protocol&&v.host===a.host}}():function(){return function(){return!0}}();function ma(r){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return i&&i[1]||""}function ya(r,i){r=r||10;const s=new Array(r),a=new Array(r);let u=0,h=0,f;return i=i!==void 0?i:1e3,function(y){const g=Date.now(),C=a[h];f||(f=g),s[u]=y,a[u]=g;let A=h,P=0;for(;A!==u;)P+=s[A++],A=A%r;if(u=(u+1)%r,u===h&&(h=(h+1)%r),g-f<i)return;const R=C&&g-C;return R?Math.round(P*1e3/R):void 0}}function Or(r,i){let s=0;const a=ya(50,250);return u=>{const h=u.loaded,f=u.lengthComputable?u.total:void 0,v=h-s,y=a(v),g=h<=f;s=h;const C={loaded:h,total:f,progress:f?h/f:void 0,bytes:v,rate:y||void 0,estimated:y&&f&&g?(f-h)/y:void 0,event:u};C[i?"download":"upload"]=!0,r(C)}}const ga=typeof XMLHttpRequest<"u",_a=ga&&function(r){return new Promise(function(s,a){let u=r.data;const h=xe.from(r.headers).normalize(),f=r.responseType;let v;function y(){r.cancelToken&&r.cancelToken.unsubscribe(v),r.signal&&r.signal.removeEventListener("abort",v)}m.isFormData(u)&&(ke.isStandardBrowserEnv||ke.isStandardBrowserWebWorkerEnv)&&h.setContentType(!1);let g=new XMLHttpRequest;if(r.auth){const R=r.auth.username||"",E=r.auth.password?unescape(encodeURIComponent(r.auth.password)):"";h.set("Authorization","Basic "+btoa(R+":"+E))}const C=ri(r.baseURL,r.url);g.open(r.method.toUpperCase(),Zr(C,r.params,r.paramsSerializer),!0),g.timeout=r.timeout;function A(){if(!g)return;const R=xe.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),T={data:!f||f==="text"||f==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:R,config:r,request:g};ha(function(S){s(S),y()},function(S){a(S),y()},T),g=null}if("onloadend"in g?g.onloadend=A:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(A)},g.onabort=function(){g&&(a(new F("Request aborted",F.ECONNABORTED,r,g)),g=null)},g.onerror=function(){a(new F("Network Error",F.ERR_NETWORK,r,g)),g=null},g.ontimeout=function(){let E=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const T=r.transitional||ei;r.timeoutErrorMessage&&(E=r.timeoutErrorMessage),a(new F(E,T.clarifyTimeoutError?F.ETIMEDOUT:F.ECONNABORTED,r,g)),g=null},ke.isStandardBrowserEnv){const R=(r.withCredentials||va(C))&&r.xsrfCookieName&&fa.read(r.xsrfCookieName);R&&h.set(r.xsrfHeaderName,R)}u===void 0&&h.setContentType(null),"setRequestHeader"in g&&m.forEach(h.toJSON(),function(E,T){g.setRequestHeader(T,E)}),m.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),f&&f!=="json"&&(g.responseType=r.responseType),typeof r.onDownloadProgress=="function"&&g.addEventListener("progress",Or(r.onDownloadProgress,!0)),typeof r.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",Or(r.onUploadProgress)),(r.cancelToken||r.signal)&&(v=R=>{g&&(a(!R||R.type?new Ot(null,r,g):R),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(v),r.signal&&(r.signal.aborted?v():r.signal.addEventListener("abort",v)));const P=ma(C);if(P&&ke.protocols.indexOf(P)===-1){a(new F("Unsupported protocol "+P+":",F.ERR_BAD_REQUEST,r));return}g.send(u||null)})},Kt={http:Ws,xhr:_a};m.forEach(Kt,(r,i)=>{if(r){try{Object.defineProperty(r,"name",{value:i})}catch{}Object.defineProperty(r,"adapterName",{value:i})}});const ba={getAdapter:r=>{r=m.isArray(r)?r:[r];const{length:i}=r;let s,a;for(let u=0;u<i&&(s=r[u],!(a=m.isString(s)?Kt[s.toLowerCase()]:s));u++);if(!a)throw a===!1?new F(`Adapter ${s} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(m.hasOwnProp(Kt,s)?`Adapter '${s}' is not available in the build`:`Unknown adapter '${s}'`);if(!m.isFunction(a))throw new TypeError("adapter is not a function");return a},adapters:Kt};function xn(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Ot(null,r)}function Rr(r){return xn(r),r.headers=xe.from(r.headers),r.data=Pn.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),ba.getAdapter(r.adapter||er.adapter)(r).then(function(a){return xn(r),a.data=Pn.call(r,r.transformResponse,a),a.headers=xe.from(a.headers),a},function(a){return ni(a)||(xn(r),a&&a.response&&(a.response.data=Pn.call(r,r.transformResponse,a.response),a.response.headers=xe.from(a.response.headers))),Promise.reject(a)})}const Pr=r=>r instanceof xe?r.toJSON():r;function rt(r,i){i=i||{};const s={};function a(g,C,A){return m.isPlainObject(g)&&m.isPlainObject(C)?m.merge.call({caseless:A},g,C):m.isPlainObject(C)?m.merge({},C):m.isArray(C)?C.slice():C}function u(g,C,A){if(m.isUndefined(C)){if(!m.isUndefined(g))return a(void 0,g,A)}else return a(g,C,A)}function h(g,C){if(!m.isUndefined(C))return a(void 0,C)}function f(g,C){if(m.isUndefined(C)){if(!m.isUndefined(g))return a(void 0,g)}else return a(void 0,C)}function v(g,C,A){if(A in i)return a(g,C);if(A in r)return a(void 0,g)}const y={url:h,method:h,data:h,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:v,headers:(g,C)=>u(Pr(g),Pr(C),!0)};return m.forEach(Object.keys(r).concat(Object.keys(i)),function(C){const A=y[C]||u,P=A(r[C],i[C],C);m.isUndefined(P)&&A!==v||(s[C]=P)}),s}const ii="1.3.4",tr={};["object","boolean","number","function","string","symbol"].forEach((r,i)=>{tr[r]=function(a){return typeof a===r||"a"+(i<1?"n ":" ")+r}});const xr={};tr.transitional=function(i,s,a){function u(h,f){return"[Axios v"+ii+"] Transitional option '"+h+"'"+f+(a?". "+a:"")}return(h,f,v)=>{if(i===!1)throw new F(u(f," has been removed"+(s?" in "+s:"")),F.ERR_DEPRECATED);return s&&!xr[f]&&(xr[f]=!0,console.warn(u(f," has been deprecated since v"+s+" and will be removed in the near future"))),i?i(h,f,v):!0}};function wa(r,i,s){if(typeof r!="object")throw new F("options must be an object",F.ERR_BAD_OPTION_VALUE);const a=Object.keys(r);let u=a.length;for(;u-- >0;){const h=a[u],f=i[h];if(f){const v=r[h],y=v===void 0||f(v,h,r);if(y!==!0)throw new F("option "+h+" must be "+y,F.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new F("Unknown option "+h,F.ERR_BAD_OPTION)}}const Hn={assertOptions:wa,validators:tr},Fe=Hn.validators;class en{constructor(i){this.defaults=i,this.interceptors={request:new kr,response:new kr}}request(i,s){typeof i=="string"?(s=s||{},s.url=i):s=i||{},s=rt(this.defaults,s);const{transitional:a,paramsSerializer:u,headers:h}=s;a!==void 0&&Hn.assertOptions(a,{silentJSONParsing:Fe.transitional(Fe.boolean),forcedJSONParsing:Fe.transitional(Fe.boolean),clarifyTimeoutError:Fe.transitional(Fe.boolean)},!1),u!==void 0&&Hn.assertOptions(u,{encode:Fe.function,serialize:Fe.function},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let f;f=h&&m.merge(h.common,h[s.method]),f&&m.forEach(["delete","get","head","post","put","patch","common"],E=>{delete h[E]}),s.headers=xe.concat(f,h);const v=[];let y=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(s)===!1||(y=y&&T.synchronous,v.unshift(T.fulfilled,T.rejected))});const g=[];this.interceptors.response.forEach(function(T){g.push(T.fulfilled,T.rejected)});let C,A=0,P;if(!y){const E=[Rr.bind(this),void 0];for(E.unshift.apply(E,v),E.push.apply(E,g),P=E.length,C=Promise.resolve(s);A<P;)C=C.then(E[A++],E[A++]);return C}P=v.length;let R=s;for(A=0;A<P;){const E=v[A++],T=v[A++];try{R=E(R)}catch(_){T.call(this,_);break}}try{C=Rr.call(this,R)}catch(E){return Promise.reject(E)}for(A=0,P=g.length;A<P;)C=C.then(g[A++],g[A++]);return C}getUri(i){i=rt(this.defaults,i);const s=ri(i.baseURL,i.url);return Zr(s,i.params,i.paramsSerializer)}}m.forEach(["delete","get","head","options"],function(i){en.prototype[i]=function(s,a){return this.request(rt(a||{},{method:i,url:s,data:(a||{}).data}))}});m.forEach(["post","put","patch"],function(i){function s(a){return function(h,f,v){return this.request(rt(v||{},{method:i,headers:a?{"Content-Type":"multipart/form-data"}:{},url:h,data:f}))}}en.prototype[i]=s(),en.prototype[i+"Form"]=s(!0)});const Yt=en;class nr{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(h){s=h});const a=this;this.promise.then(u=>{if(!a._listeners)return;let h=a._listeners.length;for(;h-- >0;)a._listeners[h](u);a._listeners=null}),this.promise.then=u=>{let h;const f=new Promise(v=>{a.subscribe(v),h=v}).then(u);return f.cancel=function(){a.unsubscribe(h)},f},i(function(h,f,v){a.reason||(a.reason=new Ot(h,f,v),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const s=this._listeners.indexOf(i);s!==-1&&this._listeners.splice(s,1)}static source(){let i;return{token:new nr(function(u){i=u}),cancel:i}}}const Sa=nr;function Ta(r){return function(s){return r.apply(null,s)}}function Ea(r){return m.isObject(r)&&r.isAxiosError===!0}const Bn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Bn).forEach(([r,i])=>{Bn[i]=r});const Ca=Bn;function oi(r){const i=new Yt(r),s=Hr(Yt.prototype.request,i);return m.extend(s,Yt.prototype,i,{allOwnKeys:!0}),m.extend(s,i,null,{allOwnKeys:!0}),s.create=function(u){return oi(rt(r,u))},s}const V=oi(er);V.Axios=Yt;V.CanceledError=Ot;V.CancelToken=Sa;V.isCancel=ni;V.VERSION=ii;V.toFormData=on;V.AxiosError=F;V.Cancel=V.CanceledError;V.all=function(i){return Promise.all(i)};V.spread=Ta;V.isAxiosError=Ea;V.mergeConfig=rt;V.AxiosHeaders=xe;V.formToJSON=r=>ti(m.isHTMLForm(r)?new FormData(r):r);V.HttpStatusCode=Ca;V.default=V;const ka=V;function qn(r){return qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},qn(r)}function Z(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}function Lr(r,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,a.key,a)}}function ee(r,i,s){return i&&Lr(r.prototype,i),s&&Lr(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r}function zn(){return zn=Object.assign||function(r){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])}return r},zn.apply(this,arguments)}function he(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&Wn(r,i)}function tn(r){return tn=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},tn(r)}function Wn(r,i){return Wn=Object.setPrototypeOf||function(a,u){return a.__proto__=u,a},Wn(r,i)}function Aa(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Oa(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Ra(r,i){if(i&&(typeof i=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oa(r)}function fe(r){var i=Aa();return function(){var a=tn(r),u;if(i){var h=tn(this).constructor;u=Reflect.construct(a,arguments,h)}else u=a.apply(this,arguments);return Ra(this,u)}}var rr=function(){function r(){Z(this,r)}return ee(r,[{key:"listenForWhisper",value:function(s,a){return this.listen(".client-"+s,a)}},{key:"notification",value:function(s){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",s)}},{key:"stopListeningForWhisper",value:function(s,a){return this.stopListening(".client-"+s,a)}}]),r}(),si=function(){function r(i){Z(this,r),this.setNamespace(i)}return ee(r,[{key:"format",value:function(s){return s.charAt(0)==="."||s.charAt(0)==="\\"?s.substr(1):(this.namespace&&(s=this.namespace+"."+s),s.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(s){this.namespace=s}}]),r}(),cn=function(r){he(s,r);var i=fe(s);function s(a,u,h){var f;return Z(this,s),f=i.call(this),f.name=u,f.pusher=a,f.options=h,f.eventFormatter=new si(f.options.namespace),f.subscribe(),f}return ee(s,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(u,h){return this.on(this.eventFormatter.format(u),h),this}},{key:"listenToAll",value:function(u){var h=this;return this.subscription.bind_global(function(f,v){if(!f.startsWith("pusher:")){var y=h.options.namespace.replace(/\./g,"\\"),g=f.startsWith(y)?f.substring(y.length+1):"."+f;u(g,v)}}),this}},{key:"stopListening",value:function(u,h){return h?this.subscription.unbind(this.eventFormatter.format(u),h):this.subscription.unbind(this.eventFormatter.format(u)),this}},{key:"stopListeningToAll",value:function(u){return u?this.subscription.unbind_global(u):this.subscription.unbind_global(),this}},{key:"subscribed",value:function(u){return this.on("pusher:subscription_succeeded",function(){u()}),this}},{key:"error",value:function(u){return this.on("pusher:subscription_error",function(h){u(h)}),this}},{key:"on",value:function(u,h){return this.subscription.bind(u,h),this}}]),s}(rr),Pa=function(r){he(s,r);var i=fe(s);function s(){return Z(this,s),i.apply(this,arguments)}return ee(s,[{key:"whisper",value:function(u,h){return this.pusher.channels.channels[this.name].trigger("client-".concat(u),h),this}}]),s}(cn),xa=function(r){he(s,r);var i=fe(s);function s(){return Z(this,s),i.apply(this,arguments)}return ee(s,[{key:"whisper",value:function(u,h){return this.pusher.channels.channels[this.name].trigger("client-".concat(u),h),this}}]),s}(cn),La=function(r){he(s,r);var i=fe(s);function s(){return Z(this,s),i.apply(this,arguments)}return ee(s,[{key:"here",value:function(u){return this.on("pusher:subscription_succeeded",function(h){u(Object.keys(h.members).map(function(f){return h.members[f]}))}),this}},{key:"joining",value:function(u){return this.on("pusher:member_added",function(h){u(h.info)}),this}},{key:"leaving",value:function(u){return this.on("pusher:member_removed",function(h){u(h.info)}),this}},{key:"whisper",value:function(u,h){return this.pusher.channels.channels[this.name].trigger("client-".concat(u),h),this}}]),s}(cn),ai=function(r){he(s,r);var i=fe(s);function s(a,u,h){var f;return Z(this,s),f=i.call(this),f.events={},f.listeners={},f.name=u,f.socket=a,f.options=h,f.eventFormatter=new si(f.options.namespace),f.subscribe(),f}return ee(s,[{key:"subscribe",value:function(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"unsubscribe",value:function(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"listen",value:function(u,h){return this.on(this.eventFormatter.format(u),h),this}},{key:"stopListening",value:function(u,h){return this.unbindEvent(this.eventFormatter.format(u),h),this}},{key:"subscribed",value:function(u){return this.on("connect",function(h){u(h)}),this}},{key:"error",value:function(u){return this}},{key:"on",value:function(u,h){var f=this;return this.listeners[u]=this.listeners[u]||[],this.events[u]||(this.events[u]=function(v,y){f.name===v&&f.listeners[u]&&f.listeners[u].forEach(function(g){return g(y)})},this.socket.on(u,this.events[u])),this.listeners[u].push(h),this}},{key:"unbind",value:function(){var u=this;Object.keys(this.events).forEach(function(h){u.unbindEvent(h)})}},{key:"unbindEvent",value:function(u,h){this.listeners[u]=this.listeners[u]||[],h&&(this.listeners[u]=this.listeners[u].filter(function(f){return f!==h})),(!h||this.listeners[u].length===0)&&(this.events[u]&&(this.socket.removeListener(u,this.events[u]),delete this.events[u]),delete this.listeners[u])}}]),s}(rr),ci=function(r){he(s,r);var i=fe(s);function s(){return Z(this,s),i.apply(this,arguments)}return ee(s,[{key:"whisper",value:function(u,h){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(u),data:h}),this}}]),s}(ai),Na=function(r){he(s,r);var i=fe(s);function s(){return Z(this,s),i.apply(this,arguments)}return ee(s,[{key:"here",value:function(u){return this.on("presence:subscribed",function(h){u(h.map(function(f){return f.user_info}))}),this}},{key:"joining",value:function(u){return this.on("presence:joining",function(h){return u(h.user_info)}),this}},{key:"leaving",value:function(u){return this.on("presence:leaving",function(h){return u(h.user_info)}),this}}]),s}(ci),nn=function(r){he(s,r);var i=fe(s);function s(){return Z(this,s),i.apply(this,arguments)}return ee(s,[{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"listen",value:function(u,h){return this}},{key:"listenToAll",value:function(u){return this}},{key:"stopListening",value:function(u,h){return this}},{key:"subscribed",value:function(u){return this}},{key:"error",value:function(u){return this}},{key:"on",value:function(u,h){return this}}]),s}(rr),Nr=function(r){he(s,r);var i=fe(s);function s(){return Z(this,s),i.apply(this,arguments)}return ee(s,[{key:"whisper",value:function(u,h){return this}}]),s}(nn),Ia=function(r){he(s,r);var i=fe(s);function s(){return Z(this,s),i.apply(this,arguments)}return ee(s,[{key:"here",value:function(u){return this}},{key:"joining",value:function(u){return this}},{key:"leaving",value:function(u){return this}},{key:"whisper",value:function(u,h){return this}}]),s}(nn),ir=function(){function r(i){Z(this,r),this._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},broadcaster:"pusher",csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(i),this.connect()}return ee(r,[{key:"setOptions",value:function(s){this.options=zn(this._defaultOptions,s);var a=this.csrfToken();return a&&(this.options.auth.headers["X-CSRF-TOKEN"]=a,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=a),a=this.options.bearerToken,a&&(this.options.auth.headers.Authorization="Bearer "+a,this.options.userAuthentication.headers.Authorization="Bearer "+a),s}},{key:"csrfToken",value:function(){var s;return typeof window<"u"&&window.Laravel&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"&&(s=document.querySelector('meta[name="csrf-token"]'))?s.getAttribute("content"):null}}]),r}(),Da=function(r){he(s,r);var i=fe(s);function s(){var a;return Z(this,s),a=i.apply(this,arguments),a.channels={},a}return ee(s,[{key:"connect",value:function(){typeof this.options.client<"u"?this.pusher=this.options.client:this.options.Pusher?this.pusher=new this.options.Pusher(this.options.key,this.options):this.pusher=new Pusher(this.options.key,this.options)}},{key:"signin",value:function(){this.pusher.signin()}},{key:"listen",value:function(u,h,f){return this.channel(u).listen(h,f)}},{key:"channel",value:function(u){return this.channels[u]||(this.channels[u]=new cn(this.pusher,u,this.options)),this.channels[u]}},{key:"privateChannel",value:function(u){return this.channels["private-"+u]||(this.channels["private-"+u]=new Pa(this.pusher,"private-"+u,this.options)),this.channels["private-"+u]}},{key:"encryptedPrivateChannel",value:function(u){return this.channels["private-encrypted-"+u]||(this.channels["private-encrypted-"+u]=new xa(this.pusher,"private-encrypted-"+u,this.options)),this.channels["private-encrypted-"+u]}},{key:"presenceChannel",value:function(u){return this.channels["presence-"+u]||(this.channels["presence-"+u]=new La(this.pusher,"presence-"+u,this.options)),this.channels["presence-"+u]}},{key:"leave",value:function(u){var h=this,f=[u,"private-"+u,"private-encrypted-"+u,"presence-"+u];f.forEach(function(v,y){h.leaveChannel(v)})}},{key:"leaveChannel",value:function(u){this.channels[u]&&(this.channels[u].unsubscribe(),delete this.channels[u])}},{key:"socketId",value:function(){return this.pusher.connection.socket_id}},{key:"disconnect",value:function(){this.pusher.disconnect()}}]),s}(ir),Ma=function(r){he(s,r);var i=fe(s);function s(){var a;return Z(this,s),a=i.apply(this,arguments),a.channels={},a}return ee(s,[{key:"connect",value:function(){var u=this,h=this.getSocketIO();return this.socket=h(this.options.host,this.options),this.socket.on("reconnect",function(){Object.values(u.channels).forEach(function(f){f.subscribe()})}),this.socket}},{key:"getSocketIO",value:function(){if(typeof this.options.client<"u")return this.options.client;if(typeof io<"u")return io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}},{key:"listen",value:function(u,h,f){return this.channel(u).listen(h,f)}},{key:"channel",value:function(u){return this.channels[u]||(this.channels[u]=new ai(this.socket,u,this.options)),this.channels[u]}},{key:"privateChannel",value:function(u){return this.channels["private-"+u]||(this.channels["private-"+u]=new ci(this.socket,"private-"+u,this.options)),this.channels["private-"+u]}},{key:"presenceChannel",value:function(u){return this.channels["presence-"+u]||(this.channels["presence-"+u]=new Na(this.socket,"presence-"+u,this.options)),this.channels["presence-"+u]}},{key:"leave",value:function(u){var h=this,f=[u,"private-"+u,"presence-"+u];f.forEach(function(v){h.leaveChannel(v)})}},{key:"leaveChannel",value:function(u){this.channels[u]&&(this.channels[u].unsubscribe(),delete this.channels[u])}},{key:"socketId",value:function(){return this.socket.id}},{key:"disconnect",value:function(){this.socket.disconnect()}}]),s}(ir),ja=function(r){he(s,r);var i=fe(s);function s(){var a;return Z(this,s),a=i.apply(this,arguments),a.channels={},a}return ee(s,[{key:"connect",value:function(){}},{key:"listen",value:function(u,h,f){return new nn}},{key:"channel",value:function(u){return new nn}},{key:"privateChannel",value:function(u){return new Nr}},{key:"encryptedPrivateChannel",value:function(u){return new Nr}},{key:"presenceChannel",value:function(u){return new Ia}},{key:"leave",value:function(u){}},{key:"leaveChannel",value:function(u){}},{key:"socketId",value:function(){return"fake-socket-id"}},{key:"disconnect",value:function(){}}]),s}(ir),Fa=function(){function r(i){Z(this,r),this.options=i,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}return ee(r,[{key:"channel",value:function(s){return this.connector.channel(s)}},{key:"connect",value:function(){this.options.broadcaster=="pusher"?this.connector=new Da(this.options):this.options.broadcaster=="socket.io"?this.connector=new Ma(this.options):this.options.broadcaster=="null"?this.connector=new ja(this.options):typeof this.options.broadcaster=="function"&&(this.connector=new this.options.broadcaster(this.options))}},{key:"disconnect",value:function(){this.connector.disconnect()}},{key:"join",value:function(s){return this.connector.presenceChannel(s)}},{key:"leave",value:function(s){this.connector.leave(s)}},{key:"leaveChannel",value:function(s){this.connector.leaveChannel(s)}},{key:"leaveAllChannels",value:function(){for(var s in this.connector.channels)this.leaveChannel(s)}},{key:"listen",value:function(s,a,u){return this.connector.listen(s,a,u)}},{key:"private",value:function(s){return this.connector.privateChannel(s)}},{key:"encryptedPrivate",value:function(s){return this.connector.encryptedPrivateChannel(s)}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"registerInterceptors",value:function(){typeof Vue=="function"&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),(typeof Turbo>"u"?"undefined":qn(Turbo))==="object"&&this.registerTurboRequestInterceptor()}},{key:"registerVueRequestInterceptor",value:function(){var s=this;Vue.http.interceptors.push(function(a,u){s.socketId()&&a.headers.set("X-Socket-ID",s.socketId()),u()})}},{key:"registerAxiosRequestInterceptor",value:function(){var s=this;axios.interceptors.request.use(function(a){return s.socketId()&&(a.headers["X-Socket-Id"]=s.socketId()),a})}},{key:"registerjQueryAjaxSetup",value:function(){var s=this;typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter(function(a,u,h){s.socketId()&&h.setRequestHeader("X-Socket-Id",s.socketId())})}},{key:"registerTurboRequestInterceptor",value:function(){var s=this;document.addEventListener("turbo:before-fetch-request",function(a){a.detail.fetchOptions.headers["X-Socket-Id"]=s.socketId()})}}]),r}();function Ua(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var $n={},Ha={get exports(){return $n},set exports(r){$n=r}};/*!
 * Pusher JavaScript Library v8.0.1
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(r,i){(function(a,u){r.exports=u()})(window,function(){return function(s){var a={};function u(h){if(a[h])return a[h].exports;var f=a[h]={i:h,l:!1,exports:{}};return s[h].call(f.exports,f,f.exports,u),f.l=!0,f.exports}return u.m=s,u.c=a,u.d=function(h,f,v){u.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:v})},u.r=function(h){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},u.t=function(h,f){if(f&1&&(h=u(h)),f&8||f&4&&typeof h=="object"&&h&&h.__esModule)return h;var v=Object.create(null);if(u.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:h}),f&2&&typeof h!="string")for(var y in h)u.d(v,y,function(g){return h[g]}.bind(null,y));return v},u.n=function(h){var f=h&&h.__esModule?function(){return h.default}:function(){return h};return u.d(f,"a",f),f},u.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},u.p="",u(u.s=2)}([function(s,a,u){var h=this&&this.__extends||function(){var T=function(_,S){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,j){N.__proto__=j}||function(N,j){for(var U in j)j.hasOwnProperty(U)&&(N[U]=j[U])},T(_,S)};return function(_,S){T(_,S);function N(){this.constructor=_}_.prototype=S===null?Object.create(S):(N.prototype=S.prototype,new N)}}();Object.defineProperty(a,"__esModule",{value:!0});var f=256,v=function(){function T(_){_===void 0&&(_="="),this._paddingCharacter=_}return T.prototype.encodedLength=function(_){return this._paddingCharacter?(_+2)/3*4|0:(_*8+5)/6|0},T.prototype.encode=function(_){for(var S="",N=0;N<_.length-2;N+=3){var j=_[N]<<16|_[N+1]<<8|_[N+2];S+=this._encodeByte(j>>>3*6&63),S+=this._encodeByte(j>>>2*6&63),S+=this._encodeByte(j>>>1*6&63),S+=this._encodeByte(j>>>0*6&63)}var U=_.length-N;if(U>0){var j=_[N]<<16|(U===2?_[N+1]<<8:0);S+=this._encodeByte(j>>>3*6&63),S+=this._encodeByte(j>>>2*6&63),U===2?S+=this._encodeByte(j>>>1*6&63):S+=this._paddingCharacter||"",S+=this._paddingCharacter||""}return S},T.prototype.maxDecodedLength=function(_){return this._paddingCharacter?_/4*3|0:(_*6+7)/8|0},T.prototype.decodedLength=function(_){return this.maxDecodedLength(_.length-this._getPaddingLength(_))},T.prototype.decode=function(_){if(_.length===0)return new Uint8Array(0);for(var S=this._getPaddingLength(_),N=_.length-S,j=new Uint8Array(this.maxDecodedLength(N)),U=0,K=0,te=0,ce=0,pe=0,ue=0,de=0;K<N-4;K+=4)ce=this._decodeChar(_.charCodeAt(K+0)),pe=this._decodeChar(_.charCodeAt(K+1)),ue=this._decodeChar(_.charCodeAt(K+2)),de=this._decodeChar(_.charCodeAt(K+3)),j[U++]=ce<<2|pe>>>4,j[U++]=pe<<4|ue>>>2,j[U++]=ue<<6|de,te|=ce&f,te|=pe&f,te|=ue&f,te|=de&f;if(K<N-1&&(ce=this._decodeChar(_.charCodeAt(K)),pe=this._decodeChar(_.charCodeAt(K+1)),j[U++]=ce<<2|pe>>>4,te|=ce&f,te|=pe&f),K<N-2&&(ue=this._decodeChar(_.charCodeAt(K+2)),j[U++]=pe<<4|ue>>>2,te|=ue&f),K<N-3&&(de=this._decodeChar(_.charCodeAt(K+3)),j[U++]=ue<<6|de,te|=de&f),te!==0)throw new Error("Base64Coder: incorrect characters for decoding");return j},T.prototype._encodeByte=function(_){var S=_;return S+=65,S+=25-_>>>8&0-65-26+97,S+=51-_>>>8&26-97-52+48,S+=61-_>>>8&52-48-62+43,S+=62-_>>>8&62-43-63+47,String.fromCharCode(S)},T.prototype._decodeChar=function(_){var S=f;return S+=(42-_&_-44)>>>8&-f+_-43+62,S+=(46-_&_-48)>>>8&-f+_-47+63,S+=(47-_&_-58)>>>8&-f+_-48+52,S+=(64-_&_-91)>>>8&-f+_-65+0,S+=(96-_&_-123)>>>8&-f+_-97+26,S},T.prototype._getPaddingLength=function(_){var S=0;if(this._paddingCharacter){for(var N=_.length-1;N>=0&&_[N]===this._paddingCharacter;N--)S++;if(_.length<4||S>2)throw new Error("Base64Coder: incorrect padding")}return S},T}();a.Coder=v;var y=new v;function g(T){return y.encode(T)}a.encode=g;function C(T){return y.decode(T)}a.decode=C;var A=function(T){h(_,T);function _(){return T!==null&&T.apply(this,arguments)||this}return _.prototype._encodeByte=function(S){var N=S;return N+=65,N+=25-S>>>8&0-65-26+97,N+=51-S>>>8&26-97-52+48,N+=61-S>>>8&52-48-62+45,N+=62-S>>>8&62-45-63+95,String.fromCharCode(N)},_.prototype._decodeChar=function(S){var N=f;return N+=(44-S&S-46)>>>8&-f+S-45+62,N+=(94-S&S-96)>>>8&-f+S-95+63,N+=(47-S&S-58)>>>8&-f+S-48+52,N+=(64-S&S-91)>>>8&-f+S-65+0,N+=(96-S&S-123)>>>8&-f+S-97+26,N},_}(v);a.URLSafeCoder=A;var P=new A;function R(T){return P.encode(T)}a.encodeURLSafe=R;function E(T){return P.decode(T)}a.decodeURLSafe=E,a.encodedLength=function(T){return y.encodedLength(T)},a.maxDecodedLength=function(T){return y.maxDecodedLength(T)},a.decodedLength=function(T){return y.decodedLength(T)}},function(s,a,u){Object.defineProperty(a,"__esModule",{value:!0});var h="utf8: invalid string",f="utf8: invalid source encoding";function v(C){for(var A=new Uint8Array(y(C)),P=0,R=0;R<C.length;R++){var E=C.charCodeAt(R);E<128?A[P++]=E:E<2048?(A[P++]=192|E>>6,A[P++]=128|E&63):E<55296?(A[P++]=224|E>>12,A[P++]=128|E>>6&63,A[P++]=128|E&63):(R++,E=(E&1023)<<10,E|=C.charCodeAt(R)&1023,E+=65536,A[P++]=240|E>>18,A[P++]=128|E>>12&63,A[P++]=128|E>>6&63,A[P++]=128|E&63)}return A}a.encode=v;function y(C){for(var A=0,P=0;P<C.length;P++){var R=C.charCodeAt(P);if(R<128)A+=1;else if(R<2048)A+=2;else if(R<55296)A+=3;else if(R<=57343){if(P>=C.length-1)throw new Error(h);P++,A+=4}else throw new Error(h)}return A}a.encodedLength=y;function g(C){for(var A=[],P=0;P<C.length;P++){var R=C[P];if(R&128){var E=void 0;if(R<224){if(P>=C.length)throw new Error(f);var T=C[++P];if((T&192)!==128)throw new Error(f);R=(R&31)<<6|T&63,E=128}else if(R<240){if(P>=C.length-1)throw new Error(f);var T=C[++P],_=C[++P];if((T&192)!==128||(_&192)!==128)throw new Error(f);R=(R&15)<<12|(T&63)<<6|_&63,E=2048}else if(R<248){if(P>=C.length-2)throw new Error(f);var T=C[++P],_=C[++P],S=C[++P];if((T&192)!==128||(_&192)!==128||(S&192)!==128)throw new Error(f);R=(R&15)<<18|(T&63)<<12|(_&63)<<6|S&63,E=65536}else throw new Error(f);if(R<E||R>=55296&&R<=57343)throw new Error(f);if(R>=65536){if(R>1114111)throw new Error(f);R-=65536,A.push(String.fromCharCode(55296|R>>10)),R=56320|R&1023}}A.push(String.fromCharCode(R))}return A.join("")}a.decode=g},function(s,a,u){s.exports=u(3).default},function(s,a,u){u.r(a);var h=function(){function t(e,n){this.lastId=0,this.prefix=e,this.name=n}return t.prototype.create=function(e){this.lastId++;var n=this.lastId,o=this.prefix+n,c=this.name+"["+n+"]",l=!1,d=function(){l||(e.apply(null,arguments),l=!0)};return this[n]=d,{number:n,id:o,name:c,callback:d}},t.prototype.remove=function(e){delete this[e.number]},t}(),f=new h("_pusher_script_","Pusher.ScriptReceivers"),v={VERSION:"8.0.1",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},y=v,g=function(){function t(e){this.options=e,this.receivers=e.receivers||f,this.loading={}}return t.prototype.load=function(e,n,o){var c=this;if(c.loading[e]&&c.loading[e].length>0)c.loading[e].push(o);else{c.loading[e]=[o];var l=I.createScriptRequest(c.getPath(e,n)),d=c.receivers.create(function(w){if(c.receivers.remove(d),c.loading[e]){var x=c.loading[e];delete c.loading[e];for(var O=function(G){G||l.cleanup()},M=0;M<x.length;M++)x[M](w,O)}});l.send(d)}},t.prototype.getRoot=function(e){var n,o=I.getDocument().location.protocol;return e&&e.useTLS||o==="https:"?n=this.options.cdn_https:n=this.options.cdn_http,n.replace(/\/*$/,"")+"/"+this.options.version},t.prototype.getPath=function(e,n){return this.getRoot(n)+"/"+e+this.options.suffix+".js"},t}(),C=g,A=new h("_pusher_dependencies","Pusher.DependenciesReceivers"),P=new C({cdn_http:y.cdn_http,cdn_https:y.cdn_https,version:y.VERSION,suffix:y.dependency_suffix,receivers:A}),R={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}},E=function(t){var e="See:",n=R.urls[t];if(!n)return"";var o;return n.fullUrl?o=n.fullUrl:n.path&&(o=R.baseUrl+n.path),o?e+" "+o:""},T={buildLogSuffix:E},_;(function(t){t.UserAuthentication="user-authentication",t.ChannelAuthorization="channel-authorization"})(_||(_={}));var S=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),N=function(t){S(e,t);function e(n){var o=this.constructor,c=t.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return e}(Error),j=function(t){S(e,t);function e(n){var o=this.constructor,c=t.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return e}(Error),U=function(t){S(e,t);function e(n){var o=this.constructor,c=t.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return e}(Error),K=function(t){S(e,t);function e(n){var o=this.constructor,c=t.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return e}(Error),te=function(t){S(e,t);function e(n){var o=this.constructor,c=t.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return e}(Error),ce=function(t){S(e,t);function e(n){var o=this.constructor,c=t.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return e}(Error),pe=function(t){S(e,t);function e(n){var o=this.constructor,c=t.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return e}(Error),ue=function(t){S(e,t);function e(n){var o=this.constructor,c=t.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return e}(Error),de=function(t){S(e,t);function e(n,o){var c=this.constructor,l=t.call(this,o)||this;return l.status=n,Object.setPrototypeOf(l,c.prototype),l}return e}(Error),un=function(t,e,n,o,c){var l=I.createXHR();l.open("POST",n.endpoint,!0),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var d in n.headers)l.setRequestHeader(d,n.headers[d]);if(n.headersProvider!=null){var w=n.headersProvider();for(var d in w)l.setRequestHeader(d,w[d])}return l.onreadystatechange=function(){if(l.readyState===4)if(l.status===200){var x=void 0,O=!1;try{x=JSON.parse(l.responseText),O=!0}catch{c(new de(200,"JSON returned from "+o.toString()+" endpoint was invalid, yet status code was 200. Data was: "+l.responseText),null)}O&&c(null,x)}else{var M="";switch(o){case _.UserAuthentication:M=T.buildLogSuffix("authenticationEndpoint");break;case _.ChannelAuthorization:M="Clients must be authorized to join private or presence channels. "+T.buildLogSuffix("authorizationEndpoint");break}c(new de(l.status,"Unable to retrieve auth string from "+o.toString()+" endpoint - "+("received status: "+l.status+" from "+n.endpoint+". "+M)),null)}},l.send(e),l},ve=un;function ot(t){return Rt(hn(t))}var Ae=String.fromCharCode,Ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ln=function(t){var e=t.charCodeAt(0);return e<128?t:e<2048?Ae(192|e>>>6)+Ae(128|e&63):Ae(224|e>>>12&15)+Ae(128|e>>>6&63)+Ae(128|e&63)},hn=function(t){return t.replace(/[^\x00-\x7F]/g,ln)},fn=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0),o=[Ne.charAt(n>>>18),Ne.charAt(n>>>12&63),e>=2?"=":Ne.charAt(n>>>6&63),e>=1?"=":Ne.charAt(n&63)];return o.join("")},Rt=window.btoa||function(t){return t.replace(/[\s\S]{1,3}/g,fn)},st=function(){function t(e,n,o,c){var l=this;this.clear=n,this.timer=e(function(){l.timer&&(l.timer=c(l.timer))},o)}return t.prototype.isRunning=function(){return this.timer!==null},t.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},t}(),z=st,at=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();function W(t){window.clearTimeout(t)}function Pt(t){window.clearInterval(t)}var B=function(t){at(e,t);function e(n,o){return t.call(this,setTimeout,W,n,function(c){return o(),null})||this}return e}(z),He=function(t){at(e,t);function e(n,o){return t.call(this,setInterval,Pt,n,function(c){return o(),c})||this}return e}(z),ct={now:function(){return Date.now?Date.now():new Date().valueOf()},defer:function(t){return new B(0,t)},method:function(t){var e=Array.prototype.slice.call(arguments,1);return function(n){return n[t].apply(n,e.concat(arguments))}}},J=ct;function Y(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var o=0;o<e.length;o++){var c=e[o];for(var l in c)c[l]&&c[l].constructor&&c[l].constructor===Object?t[l]=Y(t[l]||{},c[l]):t[l]=c[l]}return t}function xt(){for(var t=["Pusher"],e=0;e<arguments.length;e++)typeof arguments[e]=="string"?t.push(arguments[e]):t.push(ze(arguments[e]));return t.join(" : ")}function ut(t,e){var n=Array.prototype.indexOf;if(t===null)return-1;if(n&&t.indexOf===n)return t.indexOf(e);for(var o=0,c=t.length;o<c;o++)if(t[o]===e)return o;return-1}function ne(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(t[n],n,t)}function Ee(t){var e=[];return ne(t,function(n,o){e.push(o)}),e}function lt(t){var e=[];return ne(t,function(n){e.push(n)}),e}function Oe(t,e,n){for(var o=0;o<t.length;o++)e.call(n||window,t[o],o,t)}function Re(t,e){for(var n=[],o=0;o<t.length;o++)n.push(e(t[o],o,t,n));return n}function Ke(t,e){var n={};return ne(t,function(o,c){n[c]=e(o)}),n}function Be(t,e){e=e||function(c){return!!c};for(var n=[],o=0;o<t.length;o++)e(t[o],o,t,n)&&n.push(t[o]);return n}function ht(t,e){var n={};return ne(t,function(o,c){(e&&e(o,c,t,n)||Boolean(o))&&(n[c]=o)}),n}function Lt(t){var e=[];return ne(t,function(n,o){e.push([o,n])}),e}function Nt(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1}function ft(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0}function qe(t){return Ke(t,function(e){return typeof e=="object"&&(e=ze(e)),encodeURIComponent(ot(e.toString()))})}function Ie(t){var e=ht(t,function(o){return o!==void 0}),n=Re(Lt(qe(e)),J.method("join","=")).join("&");return n}function De(t){var e=[],n=[];return function o(c,l){var d,w,x;switch(typeof c){case"object":if(!c)return null;for(d=0;d<e.length;d+=1)if(e[d]===c)return{$ref:n[d]};if(e.push(c),n.push(l),Object.prototype.toString.apply(c)==="[object Array]")for(x=[],d=0;d<c.length;d+=1)x[d]=o(c[d],l+"["+d+"]");else{x={};for(w in c)Object.prototype.hasOwnProperty.call(c,w)&&(x[w]=o(c[w],l+"["+JSON.stringify(w)+"]"))}return x;case"number":case"string":case"boolean":return c}}(t,"$")}function ze(t){try{return JSON.stringify(t)}catch{return JSON.stringify(De(t))}}var It=function(){function t(){this.globalLog=function(e){window.console&&window.console.log&&window.console.log(e)}}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.log(this.globalLog,e)},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.log(this.globalLogWarn,e)},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.log(this.globalLogError,e)},t.prototype.globalLogWarn=function(e){window.console&&window.console.warn?window.console.warn(e):this.globalLog(e)},t.prototype.globalLogError=function(e){window.console&&window.console.error?window.console.error(e):this.globalLogWarn(e)},t.prototype.log=function(e){var n=xt.apply(this,arguments);if(Cn.log)Cn.log(n);else if(Cn.logToConsole){var o=e.bind(this);o(n)}},t}(),q=new It,pt=function(t,e,n,o,c){(n.headers!==void 0||n.headersProvider!=null)&&q.warn("To send headers with the "+o.toString()+" request, you must use AJAX, rather than JSONP.");var l=t.nextAuthCallbackID.toString();t.nextAuthCallbackID++;var d=t.getDocument(),w=d.createElement("script");t.auth_callbacks[l]=function(M){c(null,M)};var x="Pusher.auth_callbacks['"+l+"']";w.src=n.endpoint+"?callback="+encodeURIComponent(x)+"&"+e;var O=d.getElementsByTagName("head")[0]||d.documentElement;O.insertBefore(w,O.firstChild)},Dt=pt,Ye=function(){function t(e){this.src=e}return t.prototype.send=function(e){var n=this,o="Error loading "+n.src;n.script=document.createElement("script"),n.script.id=e.id,n.script.src=n.src,n.script.type="text/javascript",n.script.charset="UTF-8",n.script.addEventListener?(n.script.onerror=function(){e.callback(o)},n.script.onload=function(){e.callback(null)}):n.script.onreadystatechange=function(){(n.script.readyState==="loaded"||n.script.readyState==="complete")&&e.callback(null)},n.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(n.errorScript=document.createElement("script"),n.errorScript.id=e.id+"_error",n.errorScript.text=e.name+"('"+o+"');",n.script.async=n.errorScript.async=!1):n.script.async=!0;var c=document.getElementsByTagName("head")[0];c.insertBefore(n.script,c.firstChild),n.errorScript&&c.insertBefore(n.errorScript,n.script.nextSibling)},t.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},t}(),Qe=Ye,ge=function(){function t(e,n){this.url=e,this.data=n}return t.prototype.send=function(e){if(!this.request){var n=Ie(this.data),o=this.url+"/"+e.number+"?"+n;this.request=I.createScriptRequest(o),this.request.send(e)}},t.prototype.cleanup=function(){this.request&&this.request.cleanup()},t}(),Me=ge,dt=function(t,e){return function(n,o){var c="http"+(e?"s":"")+"://",l=c+(t.host||t.options.host)+t.options.path,d=I.createJSONPRequest(l,n),w=I.ScriptReceivers.create(function(x,O){f.remove(w),d.cleanup(),O&&O.host&&(t.host=O.host),o&&o(x,O)});d.send(w)}},vt={name:"jsonp",getAgent:dt},pn=vt;function _e(t,e,n){var o=t+(e.useTLS?"s":""),c=e.useTLS?e.hostTLS:e.hostNonTLS;return o+"://"+c+n}function mt(t,e){var n="/app/"+t,o="?protocol="+y.PROTOCOL+"&client=js&version="+y.VERSION+(e?"&"+e:"");return n+o}var dn={getInitial:function(t,e){var n=(e.httpPath||"")+mt(t,"flash=false");return _e("ws",e,n)}},$={getInitial:function(t,e){var n=(e.httpPath||"/pusher")+mt(t);return _e("http",e,n)}},je={getInitial:function(t,e){return _e("http",e,e.httpPath||"/pusher")},getPath:function(t,e){return mt(t)}},vn=function(){function t(){this._callbacks={}}return t.prototype.get=function(e){return this._callbacks[We(e)]},t.prototype.add=function(e,n,o){var c=We(e);this._callbacks[c]=this._callbacks[c]||[],this._callbacks[c].push({fn:n,context:o})},t.prototype.remove=function(e,n,o){if(!e&&!n&&!o){this._callbacks={};return}var c=e?[We(e)]:Ee(this._callbacks);n||o?this.removeCallback(c,n,o):this.removeAllCallbacks(c)},t.prototype.removeCallback=function(e,n,o){Oe(e,function(c){this._callbacks[c]=Be(this._callbacks[c]||[],function(l){return n&&n!==l.fn||o&&o!==l.context}),this._callbacks[c].length===0&&delete this._callbacks[c]},this)},t.prototype.removeAllCallbacks=function(e){Oe(e,function(n){delete this._callbacks[n]},this)},t}(),Mt=vn;function We(t){return"_"+t}var jt=function(){function t(e){this.callbacks=new Mt,this.global_callbacks=[],this.failThrough=e}return t.prototype.bind=function(e,n,o){return this.callbacks.add(e,n,o),this},t.prototype.bind_global=function(e){return this.global_callbacks.push(e),this},t.prototype.unbind=function(e,n,o){return this.callbacks.remove(e,n,o),this},t.prototype.unbind_global=function(e){return e?(this.global_callbacks=Be(this.global_callbacks||[],function(n){return n!==e}),this):(this.global_callbacks=[],this)},t.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},t.prototype.emit=function(e,n,o){for(var c=0;c<this.global_callbacks.length;c++)this.global_callbacks[c](e,n);var l=this.callbacks.get(e),d=[];if(o?d.push(n,o):n&&d.push(n),l&&l.length>0)for(var c=0;c<l.length;c++)l[c].fn.apply(l[c].context||window,d);else this.failThrough&&this.failThrough(e,n);return this},t}(),me=jt,mn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ze=function(t){mn(e,t);function e(n,o,c,l,d){var w=t.call(this)||this;return w.initialize=I.transportConnectionInitializer,w.hooks=n,w.name=o,w.priority=c,w.key=l,w.options=d,w.state="new",w.timeline=d.timeline,w.activityTimeout=d.activityTimeout,w.id=w.timeline.generateUniqueID(),w}return e.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},e.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},e.prototype.connect=function(){var n=this;if(this.socket||this.state!=="initialized")return!1;var o=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(o,this.options)}catch(c){return J.defer(function(){n.onError(c),n.changeState("closed")}),!1}return this.bindListeners(),q.debug("Connecting",{transport:this.name,url:o}),this.changeState("connecting"),!0},e.prototype.close=function(){return this.socket?(this.socket.close(),!0):!1},e.prototype.send=function(n){var o=this;return this.state==="open"?(J.defer(function(){o.socket&&o.socket.send(n)}),!0):!1},e.prototype.ping=function(){this.state==="open"&&this.supportsPing()&&this.socket.ping()},e.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},e.prototype.onError=function(n){this.emit("error",{type:"WebSocketError",error:n}),this.timeline.error(this.buildTimelineMessage({error:n.toString()}))},e.prototype.onClose=function(n){n?this.changeState("closed",{code:n.code,reason:n.reason,wasClean:n.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},e.prototype.onMessage=function(n){this.emit("message",n)},e.prototype.onActivity=function(){this.emit("activity")},e.prototype.bindListeners=function(){var n=this;this.socket.onopen=function(){n.onOpen()},this.socket.onerror=function(o){n.onError(o)},this.socket.onclose=function(o){n.onClose(o)},this.socket.onmessage=function(o){n.onMessage(o)},this.supportsPing()&&(this.socket.onactivity=function(){n.onActivity()})},e.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},e.prototype.changeState=function(n,o){this.state=n,this.timeline.info(this.buildTimelineMessage({state:n,params:o})),this.emit(n,o)},e.prototype.buildTimelineMessage=function(n){return Y({cid:this.id},n)},e}(me),yt=Ze,yn=function(){function t(e){this.hooks=e}return t.prototype.isSupported=function(e){return this.hooks.isSupported(e)},t.prototype.createConnection=function(e,n,o,c){return new yt(this.hooks,e,n,o,c)},t}(),se=yn,gt=new se({urls:dn,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(I.getWebSocketAPI())},isSupported:function(){return Boolean(I.getWebSocketAPI())},getSocket:function(t){return I.createWebSocket(t)}}),_t={urls:$,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},bt=Y({getSocket:function(t){return I.HTTPFactory.createStreamingSocket(t)}},_t),Ft=Y({getSocket:function(t){return I.HTTPFactory.createPollingSocket(t)}},_t),$e={isSupported:function(){return I.isXHRSupported()}},be=new se(Y({},bt,$e)),Ut=new se(Y({},Ft,$e)),Ht={ws:gt,xhr_streaming:be,xhr_polling:Ut},Ge=Ht,Bt=new se({file:"sockjs",urls:je,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(t,e){return new window.SockJS(t,null,{js_path:P.getPath("sockjs",{useTLS:e.useTLS}),ignore_null_origin:e.ignoreNullOrigin})},beforeOpen:function(t,e){t.send(JSON.stringify({path:e}))}}),qt={isSupported:function(t){var e=I.isXDRSupported(t.useTLS);return e}},L=new se(Y({},bt,qt)),p=new se(Y({},Ft,qt));Ge.xdr_streaming=L,Ge.xdr_polling=p,Ge.sockjs=Bt;var b=Ge,k=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),H=function(t){k(e,t);function e(){var n=t.call(this)||this,o=n;return window.addEventListener!==void 0&&(window.addEventListener("online",function(){o.emit("online")},!1),window.addEventListener("offline",function(){o.emit("offline")},!1)),n}return e.prototype.isOnline=function(){return window.navigator.onLine===void 0?!0:window.navigator.onLine},e}(me),X=new H,ae=function(){function t(e,n,o){this.manager=e,this.transport=n,this.minPingDelay=o.minPingDelay,this.maxPingDelay=o.maxPingDelay,this.pingDelay=void 0}return t.prototype.createConnection=function(e,n,o,c){var l=this;c=Y({},c,{activityTimeout:this.pingDelay});var d=this.transport.createConnection(e,n,o,c),w=null,x=function(){d.unbind("open",x),d.bind("closed",O),w=J.now()},O=function(M){if(d.unbind("closed",O),M.code===1002||M.code===1003)l.manager.reportDeath();else if(!M.wasClean&&w){var G=J.now()-w;G<2*l.maxPingDelay&&(l.manager.reportDeath(),l.pingDelay=Math.max(G/2,l.minPingDelay))}};return d.bind("open",x),d},t.prototype.isSupported=function(e){return this.manager.isAlive()&&this.transport.isSupported(e)},t}(),Q=ae,re={decodeMessage:function(t){try{var e=JSON.parse(t.data),n=e.data;if(typeof n=="string")try{n=JSON.parse(e.data)}catch{}var o={event:e.event,channel:e.channel,data:n};return e.user_id&&(o.user_id=e.user_id),o}catch(c){throw{type:"MessageParseError",error:c,data:t.data}}},encodeMessage:function(t){return JSON.stringify(t)},processHandshake:function(t){var e=re.decodeMessage(t);if(e.event==="pusher:connection_established"){if(!e.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:e.data.socket_id,activityTimeout:e.data.activity_timeout*1e3}}else{if(e.event==="pusher:error")return{action:this.getCloseAction(e.data),error:this.getCloseError(e.data)};throw"Invalid handshake"}},getCloseAction:function(t){return t.code<4e3?t.code>=1002&&t.code<=1004?"backoff":null:t.code===4e3?"tls_only":t.code<4100?"refused":t.code<4200?"backoff":t.code<4300?"retry":"refused"},getCloseError:function(t){return t.code!==1e3&&t.code!==1001?{type:"PusherError",data:{code:t.code,message:t.reason||t.message}}:null}},ie=re,wt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),zt=function(t){wt(e,t);function e(n,o){var c=t.call(this)||this;return c.id=n,c.transport=o,c.activityTimeout=o.activityTimeout,c.bindListeners(),c}return e.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},e.prototype.send=function(n){return this.transport.send(n)},e.prototype.send_event=function(n,o,c){var l={event:n,data:o};return c&&(l.channel=c),q.debug("Event sent",l),this.send(ie.encodeMessage(l))},e.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},e.prototype.close=function(){this.transport.close()},e.prototype.bindListeners=function(){var n=this,o={message:function(l){var d;try{d=ie.decodeMessage(l)}catch(w){n.emit("error",{type:"MessageParseError",error:w,data:l.data})}if(d!==void 0){switch(q.debug("Event recd",d),d.event){case"pusher:error":n.emit("error",{type:"PusherError",data:d.data});break;case"pusher:ping":n.emit("ping");break;case"pusher:pong":n.emit("pong");break}n.emit("message",d)}},activity:function(){n.emit("activity")},error:function(l){n.emit("error",l)},closed:function(l){c(),l&&l.code&&n.handleCloseEvent(l),n.transport=null,n.emit("closed")}},c=function(){ne(o,function(l,d){n.transport.unbind(d,l)})};ne(o,function(l,d){n.transport.bind(d,l)})},e.prototype.handleCloseEvent=function(n){var o=ie.getCloseAction(n),c=ie.getCloseError(n);c&&this.emit("error",c),o&&this.emit(o,{action:o,error:c})},e}(me),sr=zt,fi=function(){function t(e,n){this.transport=e,this.callback=n,this.bindListeners()}return t.prototype.close=function(){this.unbindListeners(),this.transport.close()},t.prototype.bindListeners=function(){var e=this;this.onMessage=function(n){e.unbindListeners();var o;try{o=ie.processHandshake(n)}catch(c){e.finish("error",{error:c}),e.transport.close();return}o.action==="connected"?e.finish("connected",{connection:new sr(o.id,e.transport),activityTimeout:o.activityTimeout}):(e.finish(o.action,{error:o.error}),e.transport.close())},this.onClosed=function(n){e.unbindListeners();var o=ie.getCloseAction(n)||"backoff",c=ie.getCloseError(n);e.finish(o,{error:c})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},t.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},t.prototype.finish=function(e,n){this.callback(Y({transport:this.transport,action:e},n))},t}(),pi=fi,di=function(){function t(e,n){this.timeline=e,this.options=n||{}}return t.prototype.send=function(e,n){this.timeline.isEmpty()||this.timeline.send(I.TimelineTransport.getAgent(this,e),n)},t}(),vi=di,mi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),yi=function(t){mi(e,t);function e(n,o){var c=t.call(this,function(l,d){q.debug("No callbacks on "+n+" for "+l)})||this;return c.name=n,c.pusher=o,c.subscribed=!1,c.subscriptionPending=!1,c.subscriptionCancelled=!1,c}return e.prototype.authorize=function(n,o){return o(null,{auth:""})},e.prototype.trigger=function(n,o){if(n.indexOf("client-")!==0)throw new N("Event '"+n+"' does not start with 'client-'");if(!this.subscribed){var c=T.buildLogSuffix("triggeringClientEvents");q.warn("Client event triggered before channel 'subscription_succeeded' event . "+c)}return this.pusher.send_event(n,o,this.name)},e.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},e.prototype.handleEvent=function(n){var o=n.event,c=n.data;if(o==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(n);else if(o==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(n);else if(o.indexOf("pusher_internal:")!==0){var l={};this.emit(o,c,l)}},e.prototype.handleSubscriptionSucceededEvent=function(n){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",n.data)},e.prototype.handleSubscriptionCountEvent=function(n){n.data.subscription_count&&(this.subscriptionCount=n.data.subscription_count),this.emit("pusher:subscription_count",n.data)},e.prototype.subscribe=function(){var n=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(o,c){o?(n.subscriptionPending=!1,q.error(o.toString()),n.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:o.message},o instanceof de?{status:o.status}:{}))):n.pusher.send_event("pusher:subscribe",{auth:c.auth,channel_data:c.channel_data,channel:n.name})}))},e.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},e.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},e.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},e}(me),gn=yi,gi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),_i=function(t){gi(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.authorize=function(n,o){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:n},o)},e}(gn),_n=_i,bi=function(){function t(){this.reset()}return t.prototype.get=function(e){return Object.prototype.hasOwnProperty.call(this.members,e)?{id:e,info:this.members[e]}:null},t.prototype.each=function(e){var n=this;ne(this.members,function(o,c){e(n.get(c))})},t.prototype.setMyID=function(e){this.myID=e},t.prototype.onSubscription=function(e){this.members=e.presence.hash,this.count=e.presence.count,this.me=this.get(this.myID)},t.prototype.addMember=function(e){return this.get(e.user_id)===null&&this.count++,this.members[e.user_id]=e.user_info,this.get(e.user_id)},t.prototype.removeMember=function(e){var n=this.get(e.user_id);return n&&(delete this.members[e.user_id],this.count--),n},t.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},t}(),wi=bi,Si=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ti=function(t,e,n,o){function c(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function w(M){try{O(o.next(M))}catch(G){d(G)}}function x(M){try{O(o.throw(M))}catch(G){d(G)}}function O(M){M.done?l(M.value):c(M.value).then(w,x)}O((o=o.apply(t,e||[])).next())})},Ei=function(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},o,c,l,d;return d={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function w(O){return function(M){return x([O,M])}}function x(O){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,c&&(l=O[0]&2?c.return:O[0]?c.throw||((l=c.return)&&l.call(c),0):c.next)&&!(l=l.call(c,O[1])).done)return l;switch(c=0,l&&(O=[O[0]&2,l.value]),O[0]){case 0:case 1:l=O;break;case 4:return n.label++,{value:O[1],done:!1};case 5:n.label++,c=O[1],O=[0];continue;case 7:O=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(O[0]===6||O[0]===2)){n=0;continue}if(O[0]===3&&(!l||O[1]>l[0]&&O[1]<l[3])){n.label=O[1];break}if(O[0]===6&&n.label<l[1]){n.label=l[1],l=O;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(O);break}l[2]&&n.ops.pop(),n.trys.pop();continue}O=e.call(t,n)}catch(M){O=[6,M],c=0}finally{o=l=0}if(O[0]&5)throw O[1];return{value:O[0]?O[1]:void 0,done:!0}}},Ci=function(t){Si(e,t);function e(n,o){var c=t.call(this,n,o)||this;return c.members=new wi,c}return e.prototype.authorize=function(n,o){var c=this;t.prototype.authorize.call(this,n,function(l,d){return Ti(c,void 0,void 0,function(){var w,x;return Ei(this,function(O){switch(O.label){case 0:return l?[3,3]:(d=d,d.channel_data==null?[3,1]:(w=JSON.parse(d.channel_data),this.members.setMyID(w.user_id),[3,3]));case 1:return[4,this.pusher.user.signinDonePromise];case 2:if(O.sent(),this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else return x=T.buildLogSuffix("authorizationEndpoint"),q.error("Invalid auth response for channel '"+this.name+"', "+("expected 'channel_data' field. "+x+", ")+"or the user should be signed in."),o("Invalid auth response"),[2];O.label=3;case 3:return o(l,d),[2]}})})})},e.prototype.handleEvent=function(n){var o=n.event;if(o.indexOf("pusher_internal:")===0)this.handleInternalEvent(n);else{var c=n.data,l={};n.user_id&&(l.user_id=n.user_id),this.emit(o,c,l)}},e.prototype.handleInternalEvent=function(n){var o=n.event,c=n.data;switch(o){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(n);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(n);break;case"pusher_internal:member_added":var l=this.members.addMember(c);this.emit("pusher:member_added",l);break;case"pusher_internal:member_removed":var d=this.members.removeMember(c);d&&this.emit("pusher:member_removed",d);break}},e.prototype.handleSubscriptionSucceededEvent=function(n){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(n.data),this.emit("pusher:subscription_succeeded",this.members))},e.prototype.disconnect=function(){this.members.reset(),t.prototype.disconnect.call(this)},e}(_n),ki=Ci,Ai=u(1),bn=u(0),Oi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ri=function(t){Oi(e,t);function e(n,o,c){var l=t.call(this,n,o)||this;return l.key=null,l.nacl=c,l}return e.prototype.authorize=function(n,o){var c=this;t.prototype.authorize.call(this,n,function(l,d){if(l){o(l,d);return}var w=d.shared_secret;if(!w){o(new Error("No shared_secret key in auth payload for encrypted channel: "+c.name),null);return}c.key=Object(bn.decode)(w),delete d.shared_secret,o(null,d)})},e.prototype.trigger=function(n,o){throw new ce("Client events are not currently supported for encrypted channels")},e.prototype.handleEvent=function(n){var o=n.event,c=n.data;if(o.indexOf("pusher_internal:")===0||o.indexOf("pusher:")===0){t.prototype.handleEvent.call(this,n);return}this.handleEncryptedEvent(o,c)},e.prototype.handleEncryptedEvent=function(n,o){var c=this;if(!this.key){q.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!o.ciphertext||!o.nonce){q.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+o);return}var l=Object(bn.decode)(o.ciphertext);if(l.length<this.nacl.secretbox.overheadLength){q.error("Expected encrypted event ciphertext length to be "+this.nacl.secretbox.overheadLength+", got: "+l.length);return}var d=Object(bn.decode)(o.nonce);if(d.length<this.nacl.secretbox.nonceLength){q.error("Expected encrypted event nonce length to be "+this.nacl.secretbox.nonceLength+", got: "+d.length);return}var w=this.nacl.secretbox.open(l,d,this.key);if(w===null){q.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,function(x,O){if(x){q.error("Failed to make a request to the authEndpoint: "+O+". Unable to fetch new key, so dropping encrypted event");return}if(w=c.nacl.secretbox.open(l,d,c.key),w===null){q.error("Failed to decrypt event with new key. Dropping encrypted event");return}c.emit(n,c.getDataToEmit(w))});return}this.emit(n,this.getDataToEmit(w))},e.prototype.getDataToEmit=function(n){var o=Object(Ai.decode)(n);try{return JSON.parse(o)}catch{return o}},e}(_n),Pi=Ri,xi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Li=function(t){xi(e,t);function e(n,o){var c=t.call(this)||this;c.state="initialized",c.connection=null,c.key=n,c.options=o,c.timeline=c.options.timeline,c.usingTLS=c.options.useTLS,c.errorCallbacks=c.buildErrorCallbacks(),c.connectionCallbacks=c.buildConnectionCallbacks(c.errorCallbacks),c.handshakeCallbacks=c.buildHandshakeCallbacks(c.errorCallbacks);var l=I.getNetwork();return l.bind("online",function(){c.timeline.info({netinfo:"online"}),(c.state==="connecting"||c.state==="unavailable")&&c.retryIn(0)}),l.bind("offline",function(){c.timeline.info({netinfo:"offline"}),c.connection&&c.sendActivityCheck()}),c.updateStrategy(),c}return e.prototype.connect=function(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}},e.prototype.send=function(n){return this.connection?this.connection.send(n):!1},e.prototype.send_event=function(n,o,c){return this.connection?this.connection.send_event(n,o,c):!1},e.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},e.prototype.isUsingTLS=function(){return this.usingTLS},e.prototype.startConnecting=function(){var n=this,o=function(c,l){c?n.runner=n.strategy.connect(0,o):l.action==="error"?(n.emit("error",{type:"HandshakeError",error:l.error}),n.timeline.error({handshakeError:l.error})):(n.abortConnecting(),n.handshakeCallbacks[l.action](l))};this.runner=this.strategy.connect(0,o)},e.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},e.prototype.disconnectInternally=function(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var n=this.abandonConnection();n.close()}},e.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})},e.prototype.retryIn=function(n){var o=this;this.timeline.info({action:"retry",delay:n}),n>0&&this.emit("connecting_in",Math.round(n/1e3)),this.retryTimer=new B(n||0,function(){o.disconnectInternally(),o.connect()})},e.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},e.prototype.setUnavailableTimer=function(){var n=this;this.unavailableTimer=new B(this.options.unavailableTimeout,function(){n.updateState("unavailable")})},e.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},e.prototype.sendActivityCheck=function(){var n=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new B(this.options.pongTimeout,function(){n.timeline.error({pong_timed_out:n.options.pongTimeout}),n.retryIn(0)})},e.prototype.resetActivityCheck=function(){var n=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new B(this.activityTimeout,function(){n.sendActivityCheck()}))},e.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},e.prototype.buildConnectionCallbacks=function(n){var o=this;return Y({},n,{message:function(c){o.resetActivityCheck(),o.emit("message",c)},ping:function(){o.send_event("pusher:pong",{})},activity:function(){o.resetActivityCheck()},error:function(c){o.emit("error",c)},closed:function(){o.abandonConnection(),o.shouldRetry()&&o.retryIn(1e3)}})},e.prototype.buildHandshakeCallbacks=function(n){var o=this;return Y({},n,{connected:function(c){o.activityTimeout=Math.min(o.options.activityTimeout,c.activityTimeout,c.connection.activityTimeout||1/0),o.clearUnavailableTimer(),o.setConnection(c.connection),o.socket_id=o.connection.id,o.updateState("connected",{socket_id:o.socket_id})}})},e.prototype.buildErrorCallbacks=function(){var n=this,o=function(c){return function(l){l.error&&n.emit("error",{type:"WebSocketError",error:l.error}),c(l)}};return{tls_only:o(function(){n.usingTLS=!0,n.updateStrategy(),n.retryIn(0)}),refused:o(function(){n.disconnect()}),backoff:o(function(){n.retryIn(1e3)}),retry:o(function(){n.retryIn(0)})}},e.prototype.setConnection=function(n){this.connection=n;for(var o in this.connectionCallbacks)this.connection.bind(o,this.connectionCallbacks[o]);this.resetActivityCheck()},e.prototype.abandonConnection=function(){if(this.connection){this.stopActivityCheck();for(var n in this.connectionCallbacks)this.connection.unbind(n,this.connectionCallbacks[n]);var o=this.connection;return this.connection=null,o}},e.prototype.updateState=function(n,o){var c=this.state;if(this.state=n,c!==n){var l=n;l==="connected"&&(l+=" with new socket ID "+o.socket_id),q.debug("State changed",c+" -> "+l),this.timeline.info({state:n,params:o}),this.emit("state_change",{previous:c,current:n}),this.emit(n,o)}},e.prototype.shouldRetry=function(){return this.state==="connecting"||this.state==="connected"},e}(me),Ni=Li,Ii=function(){function t(){this.channels={}}return t.prototype.add=function(e,n){return this.channels[e]||(this.channels[e]=Mi(e,n)),this.channels[e]},t.prototype.all=function(){return lt(this.channels)},t.prototype.find=function(e){return this.channels[e]},t.prototype.remove=function(e){var n=this.channels[e];return delete this.channels[e],n},t.prototype.disconnect=function(){ne(this.channels,function(e){e.disconnect()})},t}(),Di=Ii;function Mi(t,e){if(t.indexOf("private-encrypted-")===0){if(e.config.nacl)return Pe.createEncryptedChannel(t,e,e.config.nacl);var n="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",o=T.buildLogSuffix("encryptedChannelSupport");throw new ce(n+". "+o)}else{if(t.indexOf("private-")===0)return Pe.createPrivateChannel(t,e);if(t.indexOf("presence-")===0)return Pe.createPresenceChannel(t,e);if(t.indexOf("#")===0)throw new j('Cannot create a channel with name "'+t+'".');return Pe.createChannel(t,e)}}var ji={createChannels:function(){return new Di},createConnectionManager:function(t,e){return new Ni(t,e)},createChannel:function(t,e){return new gn(t,e)},createPrivateChannel:function(t,e){return new _n(t,e)},createPresenceChannel:function(t,e){return new ki(t,e)},createEncryptedChannel:function(t,e,n){return new Pi(t,e,n)},createTimelineSender:function(t,e){return new vi(t,e)},createHandshake:function(t,e){return new pi(t,e)},createAssistantToTheTransportManager:function(t,e,n){return new Q(t,e,n)}},Pe=ji,Fi=function(){function t(e){this.options=e||{},this.livesLeft=this.options.lives||1/0}return t.prototype.getAssistant=function(e){return Pe.createAssistantToTheTransportManager(this,e,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},t.prototype.isAlive=function(){return this.livesLeft>0},t.prototype.reportDeath=function(){this.livesLeft-=1},t}(),ar=Fi,Ui=function(){function t(e,n){this.strategies=e,this.loop=Boolean(n.loop),this.failFast=Boolean(n.failFast),this.timeout=n.timeout,this.timeoutLimit=n.timeoutLimit}return t.prototype.isSupported=function(){return Nt(this.strategies,J.method("isSupported"))},t.prototype.connect=function(e,n){var o=this,c=this.strategies,l=0,d=this.timeout,w=null,x=function(O,M){M?n(null,M):(l=l+1,o.loop&&(l=l%c.length),l<c.length?(d&&(d=d*2,o.timeoutLimit&&(d=Math.min(d,o.timeoutLimit))),w=o.tryStrategy(c[l],e,{timeout:d,failFast:o.failFast},x)):n(!0))};return w=this.tryStrategy(c[l],e,{timeout:d,failFast:this.failFast},x),{abort:function(){w.abort()},forceMinPriority:function(O){e=O,w&&w.forceMinPriority(O)}}},t.prototype.tryStrategy=function(e,n,o,c){var l=null,d=null;return o.timeout>0&&(l=new B(o.timeout,function(){d.abort(),c(!0)})),d=e.connect(n,function(w,x){w&&l&&l.isRunning()&&!o.failFast||(l&&l.ensureAborted(),c(w,x))}),{abort:function(){l&&l.ensureAborted(),d.abort()},forceMinPriority:function(w){d.forceMinPriority(w)}}},t}(),Je=Ui,Hi=function(){function t(e){this.strategies=e}return t.prototype.isSupported=function(){return Nt(this.strategies,J.method("isSupported"))},t.prototype.connect=function(e,n){return Bi(this.strategies,e,function(o,c){return function(l,d){if(c[o].error=l,l){qi(c)&&n(!0);return}Oe(c,function(w){w.forceMinPriority(d.transport.priority)}),n(null,d)}})},t}(),wn=Hi;function Bi(t,e,n){var o=Re(t,function(c,l,d,w){return c.connect(e,n(l,w))});return{abort:function(){Oe(o,zi)},forceMinPriority:function(c){Oe(o,function(l){l.forceMinPriority(c)})}}}function qi(t){return ft(t,function(e){return Boolean(e.error)})}function zi(t){!t.error&&!t.aborted&&(t.abort(),t.aborted=!0)}var Wi=function(){function t(e,n,o){this.strategy=e,this.transports=n,this.ttl=o.ttl||1800*1e3,this.usingTLS=o.useTLS,this.timeline=o.timeline}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(e,n){var o=this.usingTLS,c=Gi(o),l=[this.strategy];if(c&&c.timestamp+this.ttl>=J.now()){var d=this.transports[c.transport];d&&(this.timeline.info({cached:!0,transport:c.transport,latency:c.latency}),l.push(new Je([d],{timeout:c.latency*2+1e3,failFast:!0})))}var w=J.now(),x=l.pop().connect(e,function O(M,G){M?(cr(o),l.length>0?(w=J.now(),x=l.pop().connect(e,O)):n(M)):(Ji(o,G.transport.name,J.now()-w),n(null,G))});return{abort:function(){x.abort()},forceMinPriority:function(O){e=O,x&&x.forceMinPriority(O)}}},t}(),$i=Wi;function Sn(t){return"pusherTransport"+(t?"TLS":"NonTLS")}function Gi(t){var e=I.getLocalStorage();if(e)try{var n=e[Sn(t)];if(n)return JSON.parse(n)}catch{cr(t)}return null}function Ji(t,e,n){var o=I.getLocalStorage();if(o)try{o[Sn(t)]=ze({timestamp:J.now(),transport:e,latency:n})}catch{}}function cr(t){var e=I.getLocalStorage();if(e)try{delete e[Sn(t)]}catch{}}var Xi=function(){function t(e,n){var o=n.delay;this.strategy=e,this.options={delay:o}}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(e,n){var o=this.strategy,c,l=new B(this.options.delay,function(){c=o.connect(e,n)});return{abort:function(){l.ensureAborted(),c&&c.abort()},forceMinPriority:function(d){e=d,c&&c.forceMinPriority(d)}}},t}(),Wt=Xi,Vi=function(){function t(e,n,o){this.test=e,this.trueBranch=n,this.falseBranch=o}return t.prototype.isSupported=function(){var e=this.test()?this.trueBranch:this.falseBranch;return e.isSupported()},t.prototype.connect=function(e,n){var o=this.test()?this.trueBranch:this.falseBranch;return o.connect(e,n)},t}(),St=Vi,Ki=function(){function t(e){this.strategy=e}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(e,n){var o=this.strategy.connect(e,function(c,l){l&&o.abort(),n(c,l)});return o},t}(),Yi=Ki;function Tt(t){return function(){return t.isSupported()}}var Qi=function(t,e,n){var o={};function c(br,us,ls,hs,fs){var wr=n(t,br,us,ls,hs,fs);return o[br]=wr,wr}var l=Object.assign({},e,{hostNonTLS:t.wsHost+":"+t.wsPort,hostTLS:t.wsHost+":"+t.wssPort,httpPath:t.wsPath}),d=Object.assign({},l,{useTLS:!0}),w=Object.assign({},e,{hostNonTLS:t.httpHost+":"+t.httpPort,hostTLS:t.httpHost+":"+t.httpsPort,httpPath:t.httpPath}),x={loop:!0,timeout:15e3,timeoutLimit:6e4},O=new ar({lives:2,minPingDelay:1e4,maxPingDelay:t.activityTimeout}),M=new ar({lives:2,minPingDelay:1e4,maxPingDelay:t.activityTimeout}),G=c("ws","ws",3,l,O),Ce=c("wss","ws",3,d,O),is=c("sockjs","sockjs",1,w),dr=c("xhr_streaming","xhr_streaming",1,w,M),os=c("xdr_streaming","xdr_streaming",1,w,M),vr=c("xhr_polling","xhr_polling",1,w),ss=c("xdr_polling","xdr_polling",1,w),mr=new Je([G],x),as=new Je([Ce],x),cs=new Je([is],x),yr=new Je([new St(Tt(dr),dr,os)],x),gr=new Je([new St(Tt(vr),vr,ss)],x),_r=new Je([new St(Tt(yr),new wn([yr,new Wt(gr,{delay:4e3})]),gr)],x),kn=new St(Tt(_r),_r,cs),An;return e.useTLS?An=new wn([mr,new Wt(kn,{delay:2e3})]):An=new wn([mr,new Wt(as,{delay:2e3}),new Wt(kn,{delay:5e3})]),new $i(new Yi(new St(Tt(G),An,kn)),o,{ttl:18e5,timeline:e.timeline,useTLS:e.useTLS})},Zi=Qi,eo=function(){var t=this;t.timeline.info(t.buildTimelineMessage({transport:t.name+(t.options.useTLS?"s":"")})),t.hooks.isInitialized()?t.changeState("initialized"):t.hooks.file?(t.changeState("initializing"),P.load(t.hooks.file,{useTLS:t.options.useTLS},function(e,n){t.hooks.isInitialized()?(t.changeState("initialized"),n(!0)):(e&&t.onError(e),t.onClose(),n(!1))})):t.onClose()},to={getRequest:function(t){var e=new window.XDomainRequest;return e.ontimeout=function(){t.emit("error",new U),t.close()},e.onerror=function(n){t.emit("error",n),t.close()},e.onprogress=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText)},e.onload=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText),t.emit("finished",200),t.close()},e},abortRequest:function(t){t.ontimeout=t.onerror=t.onprogress=t.onload=null,t.abort()}},no=to,ro=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),oo=256*1024,so=function(t){ro(e,t);function e(n,o,c){var l=t.call(this)||this;return l.hooks=n,l.method=o,l.url=c,l}return e.prototype.start=function(n){var o=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){o.close()},I.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(n)},e.prototype.close=function(){this.unloader&&(I.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},e.prototype.onChunk=function(n,o){for(;;){var c=this.advanceBuffer(o);if(c)this.emit("chunk",{status:n,data:c});else break}this.isBufferTooLong(o)&&this.emit("buffer_too_long")},e.prototype.advanceBuffer=function(n){var o=n.slice(this.position),c=o.indexOf(`
`);return c!==-1?(this.position+=c+1,o.slice(0,c)):null},e.prototype.isBufferTooLong=function(n){return this.position===n.length&&n.length>oo},e}(me),ao=so,Tn;(function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSED=3]="CLOSED"})(Tn||(Tn={}));var Xe=Tn,co=1,uo=function(){function t(e,n){this.hooks=e,this.session=lr(1e3)+"/"+po(8),this.location=lo(n),this.readyState=Xe.CONNECTING,this.openStream()}return t.prototype.send=function(e){return this.sendRaw(JSON.stringify([e]))},t.prototype.ping=function(){this.hooks.sendHeartbeat(this)},t.prototype.close=function(e,n){this.onClose(e,n,!0)},t.prototype.sendRaw=function(e){if(this.readyState===Xe.OPEN)try{return I.createSocketRequest("POST",ur(ho(this.location,this.session))).start(e),!0}catch{return!1}else return!1},t.prototype.reconnect=function(){this.closeStream(),this.openStream()},t.prototype.onClose=function(e,n,o){this.closeStream(),this.readyState=Xe.CLOSED,this.onclose&&this.onclose({code:e,reason:n,wasClean:o})},t.prototype.onChunk=function(e){if(e.status===200){this.readyState===Xe.OPEN&&this.onActivity();var n,o=e.data.slice(0,1);switch(o){case"o":n=JSON.parse(e.data.slice(1)||"{}"),this.onOpen(n);break;case"a":n=JSON.parse(e.data.slice(1)||"[]");for(var c=0;c<n.length;c++)this.onEvent(n[c]);break;case"m":n=JSON.parse(e.data.slice(1)||"null"),this.onEvent(n);break;case"h":this.hooks.onHeartbeat(this);break;case"c":n=JSON.parse(e.data.slice(1)||"[]"),this.onClose(n[0],n[1],!0);break}}},t.prototype.onOpen=function(e){this.readyState===Xe.CONNECTING?(e&&e.hostname&&(this.location.base=fo(this.location.base,e.hostname)),this.readyState=Xe.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},t.prototype.onEvent=function(e){this.readyState===Xe.OPEN&&this.onmessage&&this.onmessage({data:e})},t.prototype.onActivity=function(){this.onactivity&&this.onactivity()},t.prototype.onError=function(e){this.onerror&&this.onerror(e)},t.prototype.openStream=function(){var e=this;this.stream=I.createSocketRequest("POST",ur(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(n){e.onChunk(n)}),this.stream.bind("finished",function(n){e.hooks.onFinished(e,n)}),this.stream.bind("buffer_too_long",function(){e.reconnect()});try{this.stream.start()}catch(n){J.defer(function(){e.onError(n),e.onClose(1006,"Could not start streaming",!1)})}},t.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},t}();function lo(t){var e=/([^\?]*)\/*(\??.*)/.exec(t);return{base:e[1],queryString:e[2]}}function ho(t,e){return t.base+"/"+e+"/xhr_send"}function ur(t){var e=t.indexOf("?")===-1?"?":"&";return t+e+"t="+ +new Date+"&n="+co++}function fo(t,e){var n=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(t);return n[1]+e+n[3]}function lr(t){return I.randomInt(t)}function po(t){for(var e=[],n=0;n<t;n++)e.push(lr(32).toString(32));return e.join("")}var vo=uo,mo={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr_streaming"+t.queryString},onHeartbeat:function(t){t.sendRaw("[]")},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){t.onClose(1006,"Connection interrupted ("+e+")",!1)}},yo=mo,go={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr"+t.queryString},onHeartbeat:function(){},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){e===200?t.reconnect():t.onClose(1006,"Connection interrupted ("+e+")",!1)}},_o=go,bo={getRequest:function(t){var e=I.getXHRAPI(),n=new e;return n.onreadystatechange=n.onprogress=function(){switch(n.readyState){case 3:n.responseText&&n.responseText.length>0&&t.onChunk(n.status,n.responseText);break;case 4:n.responseText&&n.responseText.length>0&&t.onChunk(n.status,n.responseText),t.emit("finished",n.status),t.close();break}},n},abortRequest:function(t){t.onreadystatechange=null,t.abort()}},wo=bo,So={createStreamingSocket:function(t){return this.createSocket(yo,t)},createPollingSocket:function(t){return this.createSocket(_o,t)},createSocket:function(t,e){return new vo(t,e)},createXHR:function(t,e){return this.createRequest(wo,t,e)},createRequest:function(t,e,n){return new ao(t,e,n)}},hr=So;hr.createXDR=function(t,e){return this.createRequest(no,t,e)};var To=hr,Eo={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:f,DependenciesReceivers:A,getDefaultStrategy:Zi,Transports:b,transportConnectionInitializer:eo,HTTPFactory:To,TimelineTransport:pn,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(t){var e=this;window.Pusher=t;var n=function(){e.onDocumentBody(t.ready)};window.JSON?n():P.load("json2",{},n)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:ve,jsonp:Dt}},onDocumentBody:function(t){var e=this;document.body?t():setTimeout(function(){e.onDocumentBody(t)},0)},createJSONPRequest:function(t,e){return new Me(t,e)},createScriptRequest:function(t){return new Qe(t)},getLocalStorage:function(){try{return window.localStorage}catch{return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){var t=this.getXHRAPI();return new t},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return X},createWebSocket:function(t){var e=this.getWebSocketAPI();return new e(t)},createSocketRequest:function(t,e){if(this.isXHRSupported())return this.HTTPFactory.createXHR(t,e);if(this.isXDRSupported(e.indexOf("https:")===0))return this.HTTPFactory.createXDR(t,e);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var t=this.getXHRAPI();return Boolean(t)&&new t().withCredentials!==void 0},isXDRSupported:function(t){var e=t?"https:":"http:",n=this.getProtocol();return Boolean(window.XDomainRequest)&&n===e},addUnloadListener:function(t){window.addEventListener!==void 0?window.addEventListener("unload",t,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",t)},removeUnloadListener:function(t){window.addEventListener!==void 0?window.removeEventListener("unload",t,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",t)},randomInt:function(t){var e=function(){var n=window.crypto||window.msCrypto,o=n.getRandomValues(new Uint32Array(1))[0];return o/Math.pow(2,32)};return Math.floor(e()*t)}},I=Eo,En;(function(t){t[t.ERROR=3]="ERROR",t[t.INFO=6]="INFO",t[t.DEBUG=7]="DEBUG"})(En||(En={}));var $t=En,Co=function(){function t(e,n,o){this.key=e,this.session=n,this.events=[],this.options=o||{},this.sent=0,this.uniqueID=0}return t.prototype.log=function(e,n){e<=this.options.level&&(this.events.push(Y({},n,{timestamp:J.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},t.prototype.error=function(e){this.log($t.ERROR,e)},t.prototype.info=function(e){this.log($t.INFO,e)},t.prototype.debug=function(e){this.log($t.DEBUG,e)},t.prototype.isEmpty=function(){return this.events.length===0},t.prototype.send=function(e,n){var o=this,c=Y({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],e(c,function(l,d){l||o.sent++,n&&n(l,d)}),!0},t.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},t}(),ko=Co,Ao=function(){function t(e,n,o,c){this.name=e,this.priority=n,this.transport=o,this.options=c||{}}return t.prototype.isSupported=function(){return this.transport.isSupported({useTLS:this.options.useTLS})},t.prototype.connect=function(e,n){var o=this;if(this.isSupported()){if(this.priority<e)return fr(new K,n)}else return fr(new ue,n);var c=!1,l=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),d=null,w=function(){l.unbind("initialized",w),l.connect()},x=function(){d=Pe.createHandshake(l,function(Ce){c=!0,G(),n(null,Ce)})},O=function(Ce){G(),n(Ce)},M=function(){G();var Ce;Ce=ze(l),n(new te(Ce))},G=function(){l.unbind("initialized",w),l.unbind("open",x),l.unbind("error",O),l.unbind("closed",M)};return l.bind("initialized",w),l.bind("open",x),l.bind("error",O),l.bind("closed",M),l.initialize(),{abort:function(){c||(G(),d?d.close():l.close())},forceMinPriority:function(Ce){c||o.priority<Ce&&(d?d.close():l.close())}}},t}(),Oo=Ao;function fr(t,e){return J.defer(function(){e(t)}),{abort:function(){},forceMinPriority:function(){}}}var Ro=I.Transports,Po=function(t,e,n,o,c,l){var d=Ro[n];if(!d)throw new pe(n);var w=(!t.enabledTransports||ut(t.enabledTransports,e)!==-1)&&(!t.disabledTransports||ut(t.disabledTransports,e)===-1),x;return w?(c=Object.assign({ignoreNullOrigin:t.ignoreNullOrigin},c),x=new Oo(e,o,l?l.getAssistant(d):d,c)):x=xo,x},xo={isSupported:function(){return!1},connect:function(t,e){var n=J.defer(function(){e(new ue)});return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}};function Lo(t){if(t==null)throw"You must pass an options object";if(t.cluster==null)throw"Options object must provide a cluster";"disableStats"in t&&q.warn("The disableStats option is deprecated in favor of enableStats")}var No=function(t,e){var n="socket_id="+encodeURIComponent(t.socketId);for(var o in e.params)n+="&"+encodeURIComponent(o)+"="+encodeURIComponent(e.params[o]);if(e.paramsProvider!=null){var c=e.paramsProvider();for(var o in c)n+="&"+encodeURIComponent(o)+"="+encodeURIComponent(c[o])}return n},Io=function(t){if(typeof I.getAuthorizers()[t.transport]>"u")throw"'"+t.transport+"' is not a recognized auth transport";return function(e,n){var o=No(e,t);I.getAuthorizers()[t.transport](I,o,t,_.UserAuthentication,n)}},Do=Io,Mo=function(t,e){var n="socket_id="+encodeURIComponent(t.socketId);n+="&channel_name="+encodeURIComponent(t.channelName);for(var o in e.params)n+="&"+encodeURIComponent(o)+"="+encodeURIComponent(e.params[o]);if(e.paramsProvider!=null){var c=e.paramsProvider();for(var o in c)n+="&"+encodeURIComponent(o)+"="+encodeURIComponent(c[o])}return n},jo=function(t){if(typeof I.getAuthorizers()[t.transport]>"u")throw"'"+t.transport+"' is not a recognized auth transport";return function(e,n){var o=Mo(e,t);I.getAuthorizers()[t.transport](I,o,t,_.ChannelAuthorization,n)}},Fo=jo,Uo=function(t,e,n){var o={authTransport:e.transport,authEndpoint:e.endpoint,auth:{params:e.params,headers:e.headers}};return function(c,l){var d=t.channel(c.channelName),w=n(d,o);w.authorize(c.socketId,l)}},et=function(){return et=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(t[c]=e[c])}return t},et.apply(this,arguments)};function Ho(t,e){var n={activityTimeout:t.activityTimeout||y.activityTimeout,cluster:t.cluster,httpPath:t.httpPath||y.httpPath,httpPort:t.httpPort||y.httpPort,httpsPort:t.httpsPort||y.httpsPort,pongTimeout:t.pongTimeout||y.pongTimeout,statsHost:t.statsHost||y.stats_host,unavailableTimeout:t.unavailableTimeout||y.unavailableTimeout,wsPath:t.wsPath||y.wsPath,wsPort:t.wsPort||y.wsPort,wssPort:t.wssPort||y.wssPort,enableStats:$o(t),httpHost:Bo(t),useTLS:Wo(t),wsHost:qo(t),userAuthenticator:Go(t),channelAuthorizer:Xo(t,e)};return"disabledTransports"in t&&(n.disabledTransports=t.disabledTransports),"enabledTransports"in t&&(n.enabledTransports=t.enabledTransports),"ignoreNullOrigin"in t&&(n.ignoreNullOrigin=t.ignoreNullOrigin),"timelineParams"in t&&(n.timelineParams=t.timelineParams),"nacl"in t&&(n.nacl=t.nacl),n}function Bo(t){return t.httpHost?t.httpHost:t.cluster?"sockjs-"+t.cluster+".pusher.com":y.httpHost}function qo(t){return t.wsHost?t.wsHost:zo(t.cluster)}function zo(t){return"ws-"+t+".pusher.com"}function Wo(t){return I.getProtocol()==="https:"?!0:t.forceTLS!==!1}function $o(t){return"enableStats"in t?t.enableStats:"disableStats"in t?!t.disableStats:!1}function Go(t){var e=et(et({},y.userAuthentication),t.userAuthentication);return"customHandler"in e&&e.customHandler!=null?e.customHandler:Do(e)}function Jo(t,e){var n;return"channelAuthorization"in t?n=et(et({},y.channelAuthorization),t.channelAuthorization):(n={transport:t.authTransport||y.authTransport,endpoint:t.authEndpoint||y.authEndpoint},"auth"in t&&("params"in t.auth&&(n.params=t.auth.params),"headers"in t.auth&&(n.headers=t.auth.headers)),"authorizer"in t&&(n.customHandler=Uo(e,n,t.authorizer))),n}function Xo(t,e){var n=Jo(t,e);return"customHandler"in n&&n.customHandler!=null?n.customHandler:Fo(n)}var Vo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ko=function(t){Vo(e,t);function e(n){var o=t.call(this,function(c,l){q.debug("No callbacks on watchlist events for "+c)})||this;return o.pusher=n,o.bindWatchlistInternalEvent(),o}return e.prototype.handleEvent=function(n){var o=this;n.data.events.forEach(function(c){o.emit(c.name,c)})},e.prototype.bindWatchlistInternalEvent=function(){var n=this;this.pusher.connection.bind("message",function(o){var c=o.event;c==="pusher_internal:watchlist_events"&&n.handleEvent(o)})},e}(me),Yo=Ko;function Qo(){var t,e,n=new Promise(function(o,c){t=o,e=c});return{promise:n,resolve:t,reject:e}}var Zo=Qo,es=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},t(e,n)};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),ts=function(t){es(e,t);function e(n){var o=t.call(this,function(c,l){q.debug("No callbacks on user for "+c)})||this;return o.signin_requested=!1,o.user_data=null,o.serverToUserChannel=null,o.signinDonePromise=null,o._signinDoneResolve=null,o._onAuthorize=function(c,l){if(c){q.warn("Error during signin: "+c),o._cleanup();return}o.pusher.send_event("pusher:signin",{auth:l.auth,user_data:l.user_data})},o.pusher=n,o.pusher.connection.bind("state_change",function(c){var l=c.previous,d=c.current;l!=="connected"&&d==="connected"&&o._signin(),l==="connected"&&d!=="connected"&&(o._cleanup(),o._newSigninPromiseIfNeeded())}),o.watchlist=new Yo(n),o.pusher.connection.bind("message",function(c){var l=c.event;l==="pusher:signin_success"&&o._onSigninSuccess(c.data),o.serverToUserChannel&&o.serverToUserChannel.name===c.channel&&o.serverToUserChannel.handleEvent(c)}),o}return e.prototype.signin=function(){this.signin_requested||(this.signin_requested=!0,this._signin())},e.prototype._signin=function(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))},e.prototype._onSigninSuccess=function(n){try{this.user_data=JSON.parse(n.user_data)}catch{q.error("Failed parsing user data after signin: "+n.user_data),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){q.error("user_data doesn't contain an id. user_data: "+this.user_data),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()},e.prototype._subscribeChannels=function(){var n=this,o=function(c){c.subscriptionPending&&c.subscriptionCancelled?c.reinstateSubscription():!c.subscriptionPending&&n.pusher.connection.state==="connected"&&c.subscribe()};this.serverToUserChannel=new gn("#server-to-user-"+this.user_data.id,this.pusher),this.serverToUserChannel.bind_global(function(c,l){c.indexOf("pusher_internal:")===0||c.indexOf("pusher:")===0||n.emit(c,l)}),o(this.serverToUserChannel)},e.prototype._cleanup=function(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()},e.prototype._newSigninPromiseIfNeeded=function(){if(this.signin_requested&&!(this.signinDonePromise&&!this.signinDonePromise.done)){var n=Zo(),o=n.promise,c=n.resolve;o.done=!1;var l=function(){o.done=!0};o.then(l).catch(l),this.signinDonePromise=o,this._signinDoneResolve=c}},e}(me),ns=ts,pr=function(){function t(e,n){var o=this;rs(e),Lo(n),this.key=e,this.config=Ho(n,this),this.channels=Pe.createChannels(),this.global_emitter=new me,this.sessionID=I.randomInt(1e9),this.timeline=new ko(this.key,this.sessionID,{cluster:this.config.cluster,features:t.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:$t.INFO,version:y.VERSION}),this.config.enableStats&&(this.timelineSender=Pe.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+I.TimelineTransport.name}));var c=function(l){return I.getDefaultStrategy(o.config,l,Po)};this.connection=Pe.createConnectionManager(this.key,{getStrategy:c,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:Boolean(this.config.useTLS)}),this.connection.bind("connected",function(){o.subscribeAll(),o.timelineSender&&o.timelineSender.send(o.connection.isUsingTLS())}),this.connection.bind("message",function(l){var d=l.event,w=d.indexOf("pusher_internal:")===0;if(l.channel){var x=o.channel(l.channel);x&&x.handleEvent(l)}w||o.global_emitter.emit(l.event,l.data)}),this.connection.bind("connecting",function(){o.channels.disconnect()}),this.connection.bind("disconnected",function(){o.channels.disconnect()}),this.connection.bind("error",function(l){q.warn(l)}),t.instances.push(this),this.timeline.info({instances:t.instances.length}),this.user=new ns(this),t.isReady&&this.connect()}return t.ready=function(){t.isReady=!0;for(var e=0,n=t.instances.length;e<n;e++)t.instances[e].connect()},t.getClientFeatures=function(){return Ee(ht({ws:I.Transports.ws},function(e){return e.isSupported({})}))},t.prototype.channel=function(e){return this.channels.find(e)},t.prototype.allChannels=function(){return this.channels.all()},t.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var e=this.connection.isUsingTLS(),n=this.timelineSender;this.timelineSenderTimer=new He(6e4,function(){n.send(e)})}},t.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},t.prototype.bind=function(e,n,o){return this.global_emitter.bind(e,n,o),this},t.prototype.unbind=function(e,n,o){return this.global_emitter.unbind(e,n,o),this},t.prototype.bind_global=function(e){return this.global_emitter.bind_global(e),this},t.prototype.unbind_global=function(e){return this.global_emitter.unbind_global(e),this},t.prototype.unbind_all=function(e){return this.global_emitter.unbind_all(),this},t.prototype.subscribeAll=function(){var e;for(e in this.channels.channels)this.channels.channels.hasOwnProperty(e)&&this.subscribe(e)},t.prototype.subscribe=function(e){var n=this.channels.add(e,this);return n.subscriptionPending&&n.subscriptionCancelled?n.reinstateSubscription():!n.subscriptionPending&&this.connection.state==="connected"&&n.subscribe(),n},t.prototype.unsubscribe=function(e){var n=this.channels.find(e);n&&n.subscriptionPending?n.cancelSubscription():(n=this.channels.remove(e),n&&n.subscribed&&n.unsubscribe())},t.prototype.send_event=function(e,n,o){return this.connection.send_event(e,n,o)},t.prototype.shouldUseTLS=function(){return this.config.useTLS},t.prototype.signin=function(){this.user.signin()},t.instances=[],t.isReady=!1,t.logToConsole=!1,t.Runtime=I,t.ScriptReceivers=I.ScriptReceivers,t.DependenciesReceivers=I.DependenciesReceivers,t.auth_callbacks=I.auth_callbacks,t}(),Cn=a.default=pr;function rs(t){if(t==null)throw"You must pass your app key when you instantiate Pusher."}I.setup(pr)}])})})(Ha);const Ba=Ua($n);window.axios=ka;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.Pusher=Ba;window.Echo=new Fa({broadcaster:"pusher",key:"de65d06c918f03570280",cluster:"eu",wsHost:"ws-eu.pusher.com",wsPort:"443",wssPort:"443",forceTLS:!0,enabledTransports:["ws","wss"]});/*! @license DOMPurify 3.0.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.1/LICENSE */function Ve(r){return Ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Ve(r)}function Gn(r,i){return Gn=Object.setPrototypeOf||function(a,u){return a.__proto__=u,a},Gn(r,i)}function qa(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qt(r,i,s){return qa()?Qt=Reflect.construct:Qt=function(u,h,f){var v=[null];v.push.apply(v,h);var y=Function.bind.apply(u,v),g=new y;return f&&Gn(g,f.prototype),g},Qt.apply(null,arguments)}function za(r,i){return $a(r)||Ja(r,i)||or(r,i)||Va()}function Se(r){return Wa(r)||Ga(r)||or(r)||Xa()}function Wa(r){if(Array.isArray(r))return Jn(r)}function $a(r){if(Array.isArray(r))return r}function Ga(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Ja(r,i){var s=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(s!=null){var a=[],u=!0,h=!1,f,v;try{for(s=s.call(r);!(u=(f=s.next()).done)&&(a.push(f.value),!(i&&a.length===i));u=!0);}catch(y){h=!0,v=y}finally{try{!u&&s.return!=null&&s.return()}finally{if(h)throw v}}return a}}function or(r,i){if(r){if(typeof r=="string")return Jn(r,i);var s=Object.prototype.toString.call(r).slice(8,-1);if(s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set")return Array.from(r);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Jn(r,i)}}function Jn(r,i){(i==null||i>r.length)&&(i=r.length);for(var s=0,a=new Array(i);s<i;s++)a[s]=r[s];return a}function Xa(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Va(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ka(r,i){var s=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!s){if(Array.isArray(r)||(s=or(r))||i&&r&&typeof r.length=="number"){s&&(r=s);var a=0,u=function(){};return{s:u,n:function(){return a>=r.length?{done:!0}:{done:!1,value:r[a++]}},e:function(y){throw y},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,f=!1,v;return{s:function(){s=s.call(r)},n:function(){var y=s.next();return h=y.done,y},e:function(y){f=!0,v=y},f:function(){try{!h&&s.return!=null&&s.return()}finally{if(f)throw v}}}}var ui=Object.entries,Ir=Object.setPrototypeOf,Ya=Object.isFrozen,Qa=Object.getPrototypeOf,Za=Object.getOwnPropertyDescriptor,oe=Object.freeze,Te=Object.seal,ec=Object.create,li=typeof Reflect<"u"&&Reflect,Xn=li.apply,Vn=li.construct;Xn||(Xn=function(i,s,a){return i.apply(s,a)});oe||(oe=function(i){return i});Te||(Te=function(i){return i});Vn||(Vn=function(i,s){return Qt(i,Se(s))});var tc=ye(Array.prototype.forEach),Dr=ye(Array.prototype.pop),Ct=ye(Array.prototype.push),Zt=ye(String.prototype.toLowerCase),Ln=ye(String.prototype.toString),nc=ye(String.prototype.match),we=ye(String.prototype.replace),rc=ye(String.prototype.indexOf),ic=ye(String.prototype.trim),le=ye(RegExp.prototype.test),Nn=oc(TypeError);function ye(r){return function(i){for(var s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];return Xn(r,i,a)}}function oc(r){return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return Vn(r,s)}}function D(r,i,s){s=s||Zt,Ir&&Ir(r,null);for(var a=i.length;a--;){var u=i[a];if(typeof u=="string"){var h=s(u);h!==u&&(Ya(i)||(i[a]=h),u=h)}r[u]=!0}return r}function tt(r){var i=ec(null),s=Ka(ui(r)),a;try{for(s.s();!(a=s.n()).done;){var u=za(a.value,2),h=u[0],f=u[1];i[h]=f}}catch(v){s.e(v)}finally{s.f()}return i}function Gt(r,i){for(;r!==null;){var s=Za(r,i);if(s){if(s.get)return ye(s.get);if(typeof s.value=="function")return ye(s.value)}r=Qa(r)}function a(u){return console.warn("fallback value for",u),null}return a}var Mr=oe(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),In=oe(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Dn=oe(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),sc=oe(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Mn=oe(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ac=oe(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),jr=oe(["#text"]),Fr=oe(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),jn=oe(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ur=oe(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Jt=oe(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),cc=Te(/\{\{[\w\W]*|[\w\W]*\}\}/gm),uc=Te(/<%[\w\W]*|[\w\W]*%>/gm),lc=Te(/\${[\w\W]*}/gm),hc=Te(/^data-[\-\w.\u00B7-\uFFFF]/),fc=Te(/^aria-[\-\w]+$/),pc=Te(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),dc=Te(/^(?:\w+script|data):/i),vc=Te(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),mc=Te(/^html$/i),yc=function(){return typeof window>"u"?null:window},gc=function(i,s){if(Ve(i)!=="object"||typeof i.createPolicy!="function")return null;var a=null,u="data-tt-policy-suffix";s.currentScript&&s.currentScript.hasAttribute(u)&&(a=s.currentScript.getAttribute(u));var h="dompurify"+(a?"#"+a:"");try{return i.createPolicy(h,{createHTML:function(v){return v},createScriptURL:function(v){return v}})}catch{return console.warn("TrustedTypes policy "+h+" could not be created."),null}};function hi(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yc(),i=function(p){return hi(p)};if(i.version="3.0.1",i.removed=[],!r||!r.document||r.document.nodeType!==9)return i.isSupported=!1,i;var s=r.document,a=r.document,u=r.DocumentFragment,h=r.HTMLTemplateElement,f=r.Node,v=r.Element,y=r.NodeFilter,g=r.NamedNodeMap,C=g===void 0?r.NamedNodeMap||r.MozNamedAttrMap:g,A=r.HTMLFormElement,P=r.DOMParser,R=r.trustedTypes,E=v.prototype,T=Gt(E,"cloneNode"),_=Gt(E,"nextSibling"),S=Gt(E,"childNodes"),N=Gt(E,"parentNode");if(typeof h=="function"){var j=a.createElement("template");j.content&&j.content.ownerDocument&&(a=j.content.ownerDocument)}var U=gc(R,s),K=U?U.createHTML(""):"",te=a,ce=te.implementation,pe=te.createNodeIterator,ue=te.createDocumentFragment,de=te.getElementsByTagName,un=s.importNode,ve={};i.isSupported=typeof ui=="function"&&typeof N=="function"&&ce&&typeof ce.createHTMLDocument<"u";var ot=cc,Ae=uc,Ne=lc,ln=hc,hn=fc,fn=dc,Rt=vc,st=pc,z=null,at=D({},[].concat(Se(Mr),Se(In),Se(Dn),Se(Mn),Se(jr))),W=null,Pt=D({},[].concat(Se(Fr),Se(jn),Se(Ur),Se(Jt))),B=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),He=null,ct=null,J=!0,Y=!0,xt=!1,ut=!0,ne=!1,Ee=!1,lt=!1,Oe=!1,Re=!1,Ke=!1,Be=!1,ht=!0,Lt=!1,Nt="user-content-",ft=!0,qe=!1,Ie={},De=null,ze=D({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),It=null,q=D({},["audio","video","img","source","image","track"]),pt=null,Dt=D({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ye="http://www.w3.org/1998/Math/MathML",Qe="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml",Me=ge,dt=!1,vt=null,pn=D({},[Ye,Qe,ge],Ln),_e,mt=["application/xhtml+xml","text/html"],dn="text/html",$,je=null,vn=a.createElement("form"),Mt=function(p){return p instanceof RegExp||p instanceof Function},We=function(p){je&&je===p||((!p||Ve(p)!=="object")&&(p={}),p=tt(p),_e=mt.indexOf(p.PARSER_MEDIA_TYPE)===-1?_e=dn:_e=p.PARSER_MEDIA_TYPE,$=_e==="application/xhtml+xml"?Ln:Zt,z="ALLOWED_TAGS"in p?D({},p.ALLOWED_TAGS,$):at,W="ALLOWED_ATTR"in p?D({},p.ALLOWED_ATTR,$):Pt,vt="ALLOWED_NAMESPACES"in p?D({},p.ALLOWED_NAMESPACES,Ln):pn,pt="ADD_URI_SAFE_ATTR"in p?D(tt(Dt),p.ADD_URI_SAFE_ATTR,$):Dt,It="ADD_DATA_URI_TAGS"in p?D(tt(q),p.ADD_DATA_URI_TAGS,$):q,De="FORBID_CONTENTS"in p?D({},p.FORBID_CONTENTS,$):ze,He="FORBID_TAGS"in p?D({},p.FORBID_TAGS,$):{},ct="FORBID_ATTR"in p?D({},p.FORBID_ATTR,$):{},Ie="USE_PROFILES"in p?p.USE_PROFILES:!1,J=p.ALLOW_ARIA_ATTR!==!1,Y=p.ALLOW_DATA_ATTR!==!1,xt=p.ALLOW_UNKNOWN_PROTOCOLS||!1,ut=p.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ne=p.SAFE_FOR_TEMPLATES||!1,Ee=p.WHOLE_DOCUMENT||!1,Re=p.RETURN_DOM||!1,Ke=p.RETURN_DOM_FRAGMENT||!1,Be=p.RETURN_TRUSTED_TYPE||!1,Oe=p.FORCE_BODY||!1,ht=p.SANITIZE_DOM!==!1,Lt=p.SANITIZE_NAMED_PROPS||!1,ft=p.KEEP_CONTENT!==!1,qe=p.IN_PLACE||!1,st=p.ALLOWED_URI_REGEXP||st,Me=p.NAMESPACE||ge,B=p.CUSTOM_ELEMENT_HANDLING||{},p.CUSTOM_ELEMENT_HANDLING&&Mt(p.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(B.tagNameCheck=p.CUSTOM_ELEMENT_HANDLING.tagNameCheck),p.CUSTOM_ELEMENT_HANDLING&&Mt(p.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(B.attributeNameCheck=p.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),p.CUSTOM_ELEMENT_HANDLING&&typeof p.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(B.allowCustomizedBuiltInElements=p.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ne&&(Y=!1),Ke&&(Re=!0),Ie&&(z=D({},Se(jr)),W=[],Ie.html===!0&&(D(z,Mr),D(W,Fr)),Ie.svg===!0&&(D(z,In),D(W,jn),D(W,Jt)),Ie.svgFilters===!0&&(D(z,Dn),D(W,jn),D(W,Jt)),Ie.mathMl===!0&&(D(z,Mn),D(W,Ur),D(W,Jt))),p.ADD_TAGS&&(z===at&&(z=tt(z)),D(z,p.ADD_TAGS,$)),p.ADD_ATTR&&(W===Pt&&(W=tt(W)),D(W,p.ADD_ATTR,$)),p.ADD_URI_SAFE_ATTR&&D(pt,p.ADD_URI_SAFE_ATTR,$),p.FORBID_CONTENTS&&(De===ze&&(De=tt(De)),D(De,p.FORBID_CONTENTS,$)),ft&&(z["#text"]=!0),Ee&&D(z,["html","head","body"]),z.table&&(D(z,["tbody"]),delete He.tbody),oe&&oe(p),je=p)},jt=D({},["mi","mo","mn","ms","mtext"]),me=D({},["foreignobject","desc","title","annotation-xml"]),mn=D({},["title","style","font","a","script"]),Ze=D({},In);D(Ze,Dn),D(Ze,sc);var yt=D({},Mn);D(yt,ac);var yn=function(p){var b=N(p);(!b||!b.tagName)&&(b={namespaceURI:Me,tagName:"template"});var k=Zt(p.tagName),H=Zt(b.tagName);return vt[p.namespaceURI]?p.namespaceURI===Qe?b.namespaceURI===ge?k==="svg":b.namespaceURI===Ye?k==="svg"&&(H==="annotation-xml"||jt[H]):Boolean(Ze[k]):p.namespaceURI===Ye?b.namespaceURI===ge?k==="math":b.namespaceURI===Qe?k==="math"&&me[H]:Boolean(yt[k]):p.namespaceURI===ge?b.namespaceURI===Qe&&!me[H]||b.namespaceURI===Ye&&!jt[H]?!1:!yt[k]&&(mn[k]||!Ze[k]):!!(_e==="application/xhtml+xml"&&vt[p.namespaceURI]):!1},se=function(p){Ct(i.removed,{element:p});try{p.parentNode.removeChild(p)}catch{p.remove()}},gt=function(p,b){try{Ct(i.removed,{attribute:b.getAttributeNode(p),from:b})}catch{Ct(i.removed,{attribute:null,from:b})}if(b.removeAttribute(p),p==="is"&&!W[p])if(Re||Ke)try{se(b)}catch{}else try{b.setAttribute(p,"")}catch{}},_t=function(p){var b,k;if(Oe)p="<remove></remove>"+p;else{var H=nc(p,/^[\r\n\t ]+/);k=H&&H[0]}_e==="application/xhtml+xml"&&Me===ge&&(p='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+p+"</body></html>");var X=U?U.createHTML(p):p;if(Me===ge)try{b=new P().parseFromString(X,_e)}catch{}if(!b||!b.documentElement){b=ce.createDocument(Me,"template",null);try{b.documentElement.innerHTML=dt?K:X}catch{}}var ae=b.body||b.documentElement;return p&&k&&ae.insertBefore(a.createTextNode(k),ae.childNodes[0]||null),Me===ge?de.call(b,Ee?"html":"body")[0]:Ee?b.documentElement:ae},bt=function(p){return pe.call(p.ownerDocument||p,p,y.SHOW_ELEMENT|y.SHOW_COMMENT|y.SHOW_TEXT,null,!1)},Ft=function(p){return p instanceof A&&(typeof p.nodeName!="string"||typeof p.textContent!="string"||typeof p.removeChild!="function"||!(p.attributes instanceof C)||typeof p.removeAttribute!="function"||typeof p.setAttribute!="function"||typeof p.namespaceURI!="string"||typeof p.insertBefore!="function"||typeof p.hasChildNodes!="function")},$e=function(p){return Ve(f)==="object"?p instanceof f:p&&Ve(p)==="object"&&typeof p.nodeType=="number"&&typeof p.nodeName=="string"},be=function(p,b,k){ve[p]&&tc(ve[p],function(H){H.call(i,b,k,je)})},Ut=function(p){var b;if(be("beforeSanitizeElements",p,null),Ft(p))return se(p),!0;var k=$(p.nodeName);if(be("uponSanitizeElement",p,{tagName:k,allowedTags:z}),p.hasChildNodes()&&!$e(p.firstElementChild)&&(!$e(p.content)||!$e(p.content.firstElementChild))&&le(/<[/\w]/g,p.innerHTML)&&le(/<[/\w]/g,p.textContent))return se(p),!0;if(!z[k]||He[k]){if(!He[k]&&Ge(k)&&(B.tagNameCheck instanceof RegExp&&le(B.tagNameCheck,k)||B.tagNameCheck instanceof Function&&B.tagNameCheck(k)))return!1;if(ft&&!De[k]){var H=N(p)||p.parentNode,X=S(p)||p.childNodes;if(X&&H)for(var ae=X.length,Q=ae-1;Q>=0;--Q)H.insertBefore(T(X[Q],!0),_(p))}return se(p),!0}return p instanceof v&&!yn(p)||(k==="noscript"||k==="noembed")&&le(/<\/no(script|embed)/i,p.innerHTML)?(se(p),!0):(ne&&p.nodeType===3&&(b=p.textContent,b=we(b,ot," "),b=we(b,Ae," "),b=we(b,Ne," "),p.textContent!==b&&(Ct(i.removed,{element:p.cloneNode()}),p.textContent=b)),be("afterSanitizeElements",p,null),!1)},Ht=function(p,b,k){if(ht&&(b==="id"||b==="name")&&(k in a||k in vn))return!1;if(!(Y&&!ct[b]&&le(ln,b))){if(!(J&&le(hn,b))){if(!W[b]||ct[b]){if(!(Ge(p)&&(B.tagNameCheck instanceof RegExp&&le(B.tagNameCheck,p)||B.tagNameCheck instanceof Function&&B.tagNameCheck(p))&&(B.attributeNameCheck instanceof RegExp&&le(B.attributeNameCheck,b)||B.attributeNameCheck instanceof Function&&B.attributeNameCheck(b))||b==="is"&&B.allowCustomizedBuiltInElements&&(B.tagNameCheck instanceof RegExp&&le(B.tagNameCheck,k)||B.tagNameCheck instanceof Function&&B.tagNameCheck(k))))return!1}else if(!pt[b]){if(!le(st,we(k,Rt,""))){if(!((b==="src"||b==="xlink:href"||b==="href")&&p!=="script"&&rc(k,"data:")===0&&It[p])){if(!(xt&&!le(fn,we(k,Rt,"")))){if(k)return!1}}}}}}return!0},Ge=function(p){return p.indexOf("-")>0},Bt=function(p){var b,k,H,X;be("beforeSanitizeAttributes",p,null);var ae=p.attributes;if(ae){var Q={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:W};for(X=ae.length;X--;){b=ae[X];var re=b,ie=re.name,wt=re.namespaceURI;if(k=ie==="value"?b.value:ic(b.value),H=$(ie),Q.attrName=H,Q.attrValue=k,Q.keepAttr=!0,Q.forceKeepAttr=void 0,be("uponSanitizeAttribute",p,Q),k=Q.attrValue,!Q.forceKeepAttr&&(gt(ie,p),!!Q.keepAttr)){if(!ut&&le(/\/>/i,k)){gt(ie,p);continue}ne&&(k=we(k,ot," "),k=we(k,Ae," "),k=we(k,Ne," "));var zt=$(p.nodeName);if(Ht(zt,H,k)){if(Lt&&(H==="id"||H==="name")&&(gt(ie,p),k=Nt+k),U&&Ve(R)==="object"&&typeof R.getAttributeType=="function"&&!wt)switch(R.getAttributeType(zt,H)){case"TrustedHTML":k=U.createHTML(k);break;case"TrustedScriptURL":k=U.createScriptURL(k);break}try{wt?p.setAttributeNS(wt,ie,k):p.setAttribute(ie,k),Dr(i.removed)}catch{}}}}be("afterSanitizeAttributes",p,null)}},qt=function L(p){var b,k=bt(p);for(be("beforeSanitizeShadowDOM",p,null);b=k.nextNode();)be("uponSanitizeShadowNode",b,null),!Ut(b)&&(b.content instanceof u&&L(b.content),Bt(b));be("afterSanitizeShadowDOM",p,null)};return i.sanitize=function(L){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b,k,H,X;if(dt=!L,dt&&(L="<!-->"),typeof L!="string"&&!$e(L)){if(typeof L.toString!="function")throw Nn("toString is not a function");if(L=L.toString(),typeof L!="string")throw Nn("dirty is not a string, aborting")}if(!i.isSupported)return L;if(lt||We(p),i.removed=[],typeof L=="string"&&(qe=!1),qe){if(L.nodeName){var ae=$(L.nodeName);if(!z[ae]||He[ae])throw Nn("root node is forbidden and cannot be sanitized in-place")}}else if(L instanceof f)b=_t("<!---->"),k=b.ownerDocument.importNode(L,!0),k.nodeType===1&&k.nodeName==="BODY"||k.nodeName==="HTML"?b=k:b.appendChild(k);else{if(!Re&&!ne&&!Ee&&L.indexOf("<")===-1)return U&&Be?U.createHTML(L):L;if(b=_t(L),!b)return Re?null:Be?K:""}b&&Oe&&se(b.firstChild);for(var Q=bt(qe?L:b);H=Q.nextNode();)Ut(H)||(H.content instanceof u&&qt(H.content),Bt(H));if(qe)return L;if(Re){if(Ke)for(X=ue.call(b.ownerDocument);b.firstChild;)X.appendChild(b.firstChild);else X=b;return(W.shadowroot||W.shadowrootmod)&&(X=un.call(s,X,!0)),X}var re=Ee?b.outerHTML:b.innerHTML;return Ee&&z["!doctype"]&&b.ownerDocument&&b.ownerDocument.doctype&&b.ownerDocument.doctype.name&&le(mc,b.ownerDocument.doctype.name)&&(re="<!DOCTYPE "+b.ownerDocument.doctype.name+`>
`+re),ne&&(re=we(re,ot," "),re=we(re,Ae," "),re=we(re,Ne," ")),U&&Be?U.createHTML(re):re},i.setConfig=function(L){We(L),lt=!0},i.clearConfig=function(){je=null,lt=!1},i.isValidAttribute=function(L,p,b){je||We({});var k=$(L),H=$(p);return Ht(k,H,b)},i.addHook=function(L,p){typeof p=="function"&&(ve[L]=ve[L]||[],Ct(ve[L],p))},i.removeHook=function(L){if(ve[L])return Dr(ve[L])},i.removeHooks=function(L){ve[L]&&(ve[L]=[])},i.removeAllHooks=function(){ve={}},i}var nt=hi();class _c{constructor(){this.injectHTML(),this.headerSearchIcon=document.querySelector(".header-search-icon"),this.overlay=document.querySelector(".search-overlay"),this.closeIcon=document.querySelector(".close-live-search"),this.inputField=document.querySelector("#live-search-field"),this.resultsArea=document.querySelector(".live-search-results"),this.loaderIcon=document.querySelector(".circle-loader"),this.typingWaitTimer,this.previousValue="",this.events()}events(){this.inputField.addEventListener("keyup",()=>this.keyPressHandler()),this.closeIcon.addEventListener("click",()=>this.closeOverlay()),this.headerSearchIcon.addEventListener("click",i=>{i.preventDefault(),this.openOverlay()}),document.addEventListener("keydown",i=>{i.key.toUpperCase()=="S"&&!this.overlay.classList.contains("search-overlay--visible")&&document.activeElement.nodeName!="INPUT"&&document.activeElement.nodeName!="TEXTAREA"&&this.openOverlay(),i.key=="Escape"&&this.overlay.classList.contains("search-overlay--visible")&&this.closeOverlay()})}keyPressHandler(){let i=this.inputField.value;i==""&&(clearTimeout(this.typingWaitTimer),this.hideLoaderIcon(),this.hideResultsArea()),i!=""&&i!=this.previousValue&&(clearTimeout(this.typingWaitTimer),this.showLoaderIcon(),this.hideResultsArea(),this.typingWaitTimer=setTimeout(()=>this.sendRequest(),750)),this.previousValue=i}async sendRequest(){const i=await axios(`/search/${this.inputField.value}`);this.renderResultsHTML(i.data)}renderResultsHTML(i){i.length?this.resultsArea.innerHTML=nt.sanitize(`<div class="list-group shadow-sm">
      <div class="list-group-item active"><strong>Search Results</strong> (${i.length>1?`${i.length} items found`:"1 item found"})</div>
      ${i.map(s=>{let a=new Date(s.created_at);return`<a href="/post/${s.id}" class="list-group-item list-group-item-action">
        <img class="avatar-tiny" src="${s.user.avatar}"> <strong>${s.title}</strong>
        <span class="text-muted small">by ${s.user.username} on ${a.getMonth()+1}/${a.getDate()}/${a.getFullYear()}</span>
      </a>`}).join("")}
    </div>`):this.resultsArea.innerHTML='<p class="alert alert-danger text-center shadow-sm">Sorry, we could not find any results for that search.</p>',this.hideLoaderIcon(),this.showResultsArea()}showLoaderIcon(){this.loaderIcon.classList.add("circle-loader--visible")}hideLoaderIcon(){this.loaderIcon.classList.remove("circle-loader--visible")}showResultsArea(){this.resultsArea.classList.add("live-search-results--visible")}hideResultsArea(){this.resultsArea.classList.remove("live-search-results--visible")}openOverlay(){this.overlay.classList.add("search-overlay--visible"),setTimeout(()=>this.inputField.focus(),50)}closeOverlay(){this.overlay.classList.remove("search-overlay--visible")}injectHTML(){document.body.insertAdjacentHTML("beforeend",`<div class="search-overlay">
    <div class="search-overlay-top shadow-sm">
      <div class="container container--narrow">
        <label for="live-search-field" class="search-overlay-icon"><i class="fas fa-search"></i></label>
        <input autocomplete="off" type="text" id="live-search-field" class="live-search-field" placeholder="What are you interested in?">
        <span class="close-live-search"><i class="fas fa-times-circle"></i></span>
      </div>
    </div>

    <div class="search-overlay-bottom">
      <div class="container container--narrow py-3">
        <div class="circle-loader"></div>
        <div class="live-search-results"></div>
      </div>
    </div>
  </div>`)}}class bc{constructor(){this.openedYet=!1,this.chatWrapper=document.querySelector("#chat-wrapper"),this.avatar=document.querySelector("#chat-wrapper").dataset.avatar,this.openIcon=document.querySelector(".header-chat-icon"),this.injectHTML(),this.chatLog=document.querySelector("#chat"),this.chatField=document.querySelector("#chatField"),this.chatForm=document.querySelector("#chatForm"),this.closeIcon=document.querySelector(".chat-title-bar-close"),this.events()}events(){this.chatForm.addEventListener("submit",i=>{i.preventDefault(),this.sendMessageToServer()}),this.openIcon.addEventListener("click",()=>this.showChat()),this.closeIcon.addEventListener("click",()=>this.hideChat())}sendMessageToServer(){const i=document.createElement("div");i.innerHTML=nt.sanitize(this.chatField.value),axios.post("/send-chat-message",{textvalue:this.chatField.value}),this.chatLog.insertAdjacentHTML("beforeend",nt.sanitize(`
    <div class="chat-self">
        <div class="chat-message">
          <div class="chat-message-inner">
            ${i.textContent}
          </div>
        </div>
        <img class="chat-avatar avatar-tiny" src="${this.avatar}">
      </div>
    `)),this.chatLog.scrollTop=this.chatLog.scrollHeight,this.chatField.value="",this.chatField.focus()}hideChat(){this.chatWrapper.classList.remove("chat--visible")}showChat(){this.openedYet||this.openConnection(),this.openedYet=!0,this.chatWrapper.classList.add("chat--visible"),this.chatField.focus()}openConnection(){Echo.private("chatchannel").listen("ChatMessage",i=>{this.displayMessageFromServer(i.chat)})}displayMessageFromServer(i){this.chatLog.insertAdjacentHTML("beforeend",nt.sanitize(`
    <div class="chat-other">
        <a href="/profile/${i.username}"><img class="avatar-tiny" src="${i.avatar}"></a>
        <div class="chat-message"><div class="chat-message-inner">
          <a href="/profile/${i.username}"><strong>${i.username}:</strong></a>
          ${i.textvalue}
        </div></div>
      </div>
    `)),this.chatLog.scrollTop=this.chatLog.scrollHeight}injectHTML(){this.chatWrapper.classList.add("chat-wrapper--ready"),this.chatWrapper.innerHTML=`
    <div class="chat-title-bar">Chat <span class="chat-title-bar-close"><i class="fas fa-times-circle"></i></span></div>
    <div id="chat" class="chat-log"></div>
    
    <form id="chatForm" class="chat-form border-top">
      <input type="text" class="chat-field" id="chatField" placeholder="Type a message" autocomplete="off">
    </form>
    `}}class wc{constructor(){this.links=document.querySelectorAll(".profile-nav a"),this.contentArea=document.querySelector(".profile-slot-content"),this.events()}events(){addEventListener("popstate",()=>{this.handleChange()}),this.links.forEach(i=>{i.addEventListener("click",s=>this.handleLinkClick(s))})}handleChange(){this.links.forEach(i=>i.classList.remove("active")),this.links.forEach(async i=>{if(i.getAttribute("href")==window.location.pathname){const s=await axios.get(i.href+"/raw");this.contentArea.innerHTML=nt.sanitize(s.data.theHTML),document.title=s.data.docTitle+" | OurApp",i.classList.add("active")}})}async handleLinkClick(i){this.links.forEach(a=>a.classList.remove("active")),i.target.classList.add("active"),i.preventDefault();const s=await axios.get(i.target.href+"/raw");this.contentArea.innerHTML=nt.sanitize(s.data.theHTML),document.title=s.data.docTitle+" | OurApp",history.pushState({},"",i.target.href)}}document.querySelector(".profile-nav")&&new wc;document.querySelector(".header-search-icon")&&new _c;document.querySelector(".header-chat-icon")&&new bc;
